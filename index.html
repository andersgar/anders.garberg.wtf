<!DOCTYPE html>
<html lang="no" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Anders Garberg — Automatisering og intelligente systemer</title>
    <meta
      name="description"
      content="Portfolio og kontaktside for student i Automatisering og intelligente systemer (NTNU). Prosjekter, erfaring og måter å ta kontakt på."
    />
    <meta name="color-scheme" content="dark light" />
    <meta name="theme-color" content="#0ea5e9" />

    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="assets/favicon-512x512.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="256x256"
      href="assets/favicon-256x256.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="128x128"
      href="assets/favicon-128x128.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="64x64"
      href="assets/favicon-64x64.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/apple-touch-icon.png"
    />

    <!-- High-res fallback and default -->
    <link rel="shortcut icon" href="assets/favicon-512x512.png" />
    <link rel="icon" href="assets/favicon-512x512.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/desktop.css" />
    <link rel="stylesheet" href="css/mobile.css" />

    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Theme logic moved to common.js -->
  </head>
  <body>
    <div class="dev-banner">
      <span data-translate="devBanner"
        ><i class="fa-solid fa-triangle-exclamation"></i> Denne nettsiden er under utvikling</span
      >
    </div>

    <a class="skip btn ghost" href="#main" data-translate="skipToContent"
      >Hopp til innhold</a
    >
    <nav aria-label="Primary">
      <div class="container nav-inner">
        <div class="brand">
          <div class="brand-badge" aria-hidden="true">AG</div>
          <a href="#home" aria-label="Hjem"><span>Anders Garberg</span></a>
        </div>

        <!-- Desktop Navigation -->
        <div class="nav-links" role="list">
          <!-- Public nav links (hidden in admin mode) -->
          <!-- <a href="#projects" id="navProjects" data-translate="projects"
            >Prosjekter</a
          > -->
          <a href="#experience" id="navExperience" data-translate="experience"
            >Erfaring</a
          >
          <a href="#about" id="navAbout" data-translate="about">Om meg</a>
          <a href="#contact" id="navContact" data-translate="contact"
            >Kontakt</a
          >

          <!-- Logged out button -->
          <a
            href="login.html"
            id="loginBtn"
            class="btn"
            style="display: none"
            data-translate="login"
            >Logg inn</a
          >

          <!-- Admin view buttons (styled as nav links) -->
          <button id="viewPublicBtn" class="nav-btn" style="display: none">
            Public
          </button>
          <a href="admin.html" id="dashboardNavBtn" style="display: none">
            Dashboard
          </a>
          <button id="showQrBtn" class="nav-btn" style="display: none">
            QR
          </button>

          <button
            class="theme-toggle"
            id="themeToggle"
            aria-label="Bytt tema"
            title="Bytt tema"
          >
            <i class="fa-solid fa-circle-half-stroke"></i>
          </button>
          <button
            class="theme-toggle"
            id="langToggle"
            aria-label="Bytt språk"
            title="Bytt språk"
          >
            <i class="fa-solid fa-globe"></i>
          </button>
          <button
            class="theme-toggle"
            id="loginToggle"
            aria-label="Login status"
            title="Click to login or view admin"
          >
            <i class="fa-solid fa-lock"></i>
          </button>
        </div>

        <!-- Mobile Hamburger -->
        <div class="hamburger" id="hamburger" aria-label="Åpne meny">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <!-- Public nav links (hidden in admin mode) -->
      <!-- <a href="#projects" id="navProjectsMobile" data-translate="projects"
        >Prosjekter</a
      > -->
      <a href="#experience" id="navExperienceMobile" data-translate="experience"
        >Erfaring</a
      >
      <a href="#about" id="navAboutMobile" data-translate="about">Om meg</a>
      <a href="#contact" id="navContactMobile" data-translate="contact"
        >Kontakt</a
      >

      <!-- Logged out -->
      <a
        href="login.html"
        id="loginBtnMobile"
        style="display: none; color: var(--brand); font-weight: 600"
        data-translate="login"
        >Logg inn</a
      >

      <!-- Admin view buttons -->
      <button id="viewPublicBtnMobile" style="display: none">
        View as Public
      </button>
      <a href="admin.html" id="dashboardNavBtnMobile" style="display: none">
        Dashboard
      </a>
      <button id="showQrBtnMobile" style="display: none">Show QR Code</button>

      <div class="mobile-buttons">
        <button
          class="theme-toggle"
          id="themeToggleMobile"
          aria-label="Bytt tema"
          title="Bytt tema"
        >
          <i class="fa-solid fa-circle-half-stroke"></i>
        </button>
        <button
          class="theme-toggle"
          id="langToggleMobile"
          aria-label="Bytt språk"
          title="Bytt språk"
        >
          <i class="fa-solid fa-globe"></i>
        </button>
        <button
          class="theme-toggle"
          id="loginToggleMobile"
          aria-label="Login status"
          title="Click to login or view admin"
        >
          <i class="fa-solid fa-lock"></i>
        </button>
      </div>
    </div>

    <!-- User Info Popup (initially hidden) -->
    <div id="userPopup" class="user-popup" style="display: none">
      <div class="user-popup-content">
        <button class="user-popup-close" id="closeUserPopup" aria-label="Close">
          ×
        </button>
        <div class="user-popup-header">
          <div class="user-avatar"><i class="fa-solid fa-user"></i></div>
          <div>
            <h3 id="userEmail" style="margin: 0">Loading...</h3>
            <p class="small" style="margin: 0.25rem 0 0; color: var(--muted)">
              Administrator
            </p>
          </div>
        </div>
        <div class="user-popup-actions">
          <button id="toggleViewBtn" class="btn ghost" style="width: 100%">
            <i class="fa-solid fa-eye"></i> View as Public
          </button>
          <a href="admin.html" class="btn" style="width: 100%"
            ><i class="fa-solid fa-chart-line"></i> Admin Dashboard</a
          >
          <button id="logoutBtnPopup" class="btn ghost" style="width: 100%">
            Logout
          </button>
        </div>
      </div>
    </div>

    <!-- QR Code Popup (initially hidden) -->
    <div id="qrPopup" class="user-popup" style="display: none">
      <div class="user-popup-content">
        <button class="user-popup-close" id="closeQrPopup" aria-label="Close">
          ×
        </button>
        <div
          class="user-popup-header"
          style="flex-direction: column; text-align: center"
        >
          <h3 style="margin: 0 0 1rem 0">garberg.wtf</h3>
          <div
            id="qrCodeContainer"
            style="background: white; padding: 1rem; border-radius: 10px"
          >
            <!-- QR code will be inserted here -->
          </div>
          <p class="small" style="margin: 1rem 0 0; color: var(--muted)">
            Scan to visit the site
          </p>
        </div>
      </div>
    </div>

    <header id="home" class="hero">
      <div class="gradient" aria-hidden="true"></div>
      <div class="container hero-wrap" id="publicContent">
        <div class="hero-left">
          <p class="pill">
            <i class="fa-solid fa-graduation-cap"></i>
            <span data-translate="degreeProgram"
              >Automatisering og intelligente systemer @ NTNU · Trondheim</span
            >
          </p>
          <h1>
            <span data-translate="greeting">Hei, jeg er</span>
            <span style="color: var(--brand)">Anders Garberg</span>
          </h1>
          <div style="height: 1rem"></div>
          <div class="hero-cta">
            <a class="btn" href="#projects" data-translate="seeProjects"
              >Se prosjekter</a
            >
            <a class="btn ghost" href="#contact" data-translate="getInTouch"
              >Ta kontakt</a
            >
          </div>
          <div class="row" style="margin-top: 12px">
            <span class="tag" data-translate="controlSystems"
              >Styringssystemer</span
            >
            <span class="tag" data-translate="modeling">Modellering</span>
            <span class="tag" data-translate="physics">Fysikk</span>
            <span class="tag">C++</span>
          </div>
        </div>
        <aside class="hero-right card pad hero-card" aria-label="Rask profil">
          <div
            class="row"
            style="justify-content: space-between; align-items: center"
          >
            <strong data-translate="openToInternships"
              >Åpen for praksis · 2026</strong
            >
            <div class="icons">
              <a
                class="icon-btn"
                href="https://github.com/andersgar"
                target="_blank"
                rel="noreferrer noopener"
                aria-label="GitHub"
              >
                <i class="fa-brands fa-github" aria-hidden="true"></i>
              </a>
              <a
                class="icon-btn"
                href="https://www.linkedin.com/in/anders-garberg-4214ba383"
                target="_blank"
                rel="noreferrer noopener"
                aria-label="LinkedIn"
              >
                <i class="fa-brands fa-linkedin" aria-hidden="true"></i>
              </a>
              <a
                class="icon-btn"
                href="mailto:anders@garberg.wtf"
                aria-label="E-post"
              >
                <i class="fa-solid fa-envelope" aria-hidden="true"></i>
              </a>
            </div>
          </div>
          <p class="small" data-translate="heroDescription">
            Nysgjerrig automatiseringsstudent med lidenskap for autonomi,
            navigasjon og styring. Søker sommerpraksis hvor jeg kan bidra til
            utvikling av robuste, intelligente systemer og lære av virkelige
            ingeniørutfordringer underveis.
          </p>
          <div class="row">
            <a
              class="btn"
              href="content/CV_no.pdf"
              download
              data-translate="downloadCV"
              >Last ned CV</a
            >
            <a class="btn ghost" href="#contact" data-translate="emailMe"
              >Send e-post</a
            >
          </div>
        </aside>
      </div>
    </header>

    <main id="main" class="container" aria-live="polite">
      <!-- Public content wrapper -->
      <div id="publicSections">
        <!-- <section id="projects" class="projects">
          <h2 class="section-title" data-translate="featuredProjects">
            Utvalgte prosjekter
          </h2>
          <p class="subtitle" data-translate="projectsSubtitle">
            Noen ting jeg har jobbet med nylig.
          </p>
          <div class="grid cols-3">
            <article class="card pad item">
              <div class="thumb" data-translate="Lorem">Lorem</div>
              <h3 data-translate="Lorem, ipsum.">Lorem, ipsum.</h3>
              <p class="small" data-translate="Lorem ipsum dolor sit amet.">
                Lorem ipsum dolor sit amet.
              </p>
              <div class="row">
                <span class="tag">C++</span><span class="tag">PID</span
                ><span class="tag">Arduino</span>
              </div>
              <div class="row">
                <a
                  class="btn ghost"
                  href="https://blank"
                  target="_blank"
                  rel="noreferrer"
                  data-translate="repo"
                  >Repo</a
                >
              </div>
            </article>
            <article class="card pad item">
              <div class="thumb" data-translate="Lorem">Lorem</div>
              <h3 data-translate="Lorem, ipsum.">Lorem, ipsum.</h3>
              <p class="small" data-translate="Lorem ipsum dolor sit amet.">
                Lorem ipsum dolor sit amet.
              </p>
              <div class="row">
                <span class="tag">C++</span><span class="tag">PID</span
                ><span class="tag">Arduino</span>
              </div>
              <div class="row">
                <a
                  class="btn ghost"
                  href="https://blank"
                  target="_blank"
                  rel="noreferrer"
                  data-translate="repo"
                  >Repo</a
                >
              </div>
            </article>
            <article class="card pad item">
              <div class="thumb" data-translate="Lorem">Lorem</div>
              <h3 data-translate="Lorem, ipsum.">Lorem, ipsum.</h3>
              <p class="small" data-translate="Lorem ipsum dolor sit amet.">
                Lorem ipsum dolor sit amet.
              </p>
              <div class="row">
                <span class="tag">C++</span><span class="tag">PID</span
                ><span class="tag">Arduino</span>
              </div>
              <div class="row">
                <a
                  class="btn ghost"
                  href="https://blank"
                  target="_blank"
                  rel="noreferrer"
                  data-translate="repo"
                  >Repo</a
                >
              </div>
            </article>
          </div>
        </section> -->

        <section id="experience">
          <h2 class="section-title" data-translate="experience">Erfaring</h2>
          <div class="card pad">
            <div class="timeline" id="timeline"></div>
          </div>
        </section>

        <section id="about">
          <h2 class="section-title" data-translate="about">Om meg</h2>
          <div class="grid cols-2">
            <div class="card pad">
              <p data-translate="aboutText1"></p>
            </div>
            <div class="card pad">
              <h3 style="margin-top: 0" data-translate="highlights">
                Høydepunkter
              </h3>
              <ul>
                <li data-translate="highlight1">
                  Hands-on med sensorer (IMU, ToF, encodere) og
                  sanntidsbegrensninger.
                </li>
                <li data-translate="highlight2">
                  Komfortabel med å gå fra simulering til maskinvareoppstart.
                </li>
                <li data-translate="highlight3">
                  Nysgjerrig, pålitelig og sikkerhetsorientert.
                </li>
              </ul>
            </div>
          </div>
        </section>

        <section id="skills">
          <h2 class="section-title" data-translate="skills">Ferdigheter</h2>
          <div class="grid cols-3">
            <div class="card pad">
              <h3 data-translate="programming">Programmering</h3>
              <p class="small">
                C/C++, Python, MATLAB/Simulink, ROS2, grunnleggende HTML/CSS/JS.
              </p>
              <div class="row">
                <span class="tag">Git</span><span class="tag">CMake</span
                ><span class="tag" data-translate="unitTesting"
                  >Enhetstesting</span
                >
              </div>
            </div>
            <div class="card pad">
              <h3 data-translate="controlsAndSignals">Styring og signaler</h3>
              <p class="small">
                PID, tilstandsrom, observatører, filtrering
                (Kalman/Butterworth), frekvensrespons.
              </p>
              <div class="row">
                <span class="tag">Bode/Nyquist</span
                ><span class="tag" data-translate="rootLocus">Rotlokus</span>
              </div>
            </div>
            <div class="card pad">
              <h3 data-translate="hardware">Maskinvare</h3>
              <p class="small">
                STM32/ESP32/Arduino, sensorer/aktuatorer, PCB-reparasjon,
                oscilloskoper, logiske analysatorer.
              </p>
              <div class="row">
                <span class="tag">I2C/SPI/UART</span><span class="tag">PWM</span
                ><span class="tag">PLS</span>
              </div>
            </div>
          </div>
        </section>

        <section id="contact">
          <h2 class="section-title" data-translate="contact">Kontakt</h2>
          <div class="contact-grid">
            <div class="card pad">
              <h3 style="margin-top: 0" data-translate="letsStartSomething">
                La oss starte noe flott
              </h3>
              <p class="small" data-translate="contactDesc">
                Send meg en e-post direkte eller bruk skjemaet. Jeg er åpen for
                praksis, prosjekter og samarbeid.
              </p>
              <div class="row" style="align-items: center">
                <a class="btn" href="mailto:anders@garberg.wtf"
                  ><i class="fa-solid fa-envelope"></i> anders@garberg.wtf</a
                >
                <a
                  class="btn ghost"
                  href="https://www.linkedin.com/in/anders-garberg-4214ba383"
                  target="_blank"
                  rel="noreferrer"
                  >LinkedIn</a
                >
                <a
                  class="btn ghost"
                  href="https://github.com/andersgar"
                  target="_blank"
                  rel="noreferrer"
                  >GitHub</a
                >
              </div>
            </div>
            <form id="contactForm" class="card pad" aria-label="Kontaktskjema">
              <div class="field">
                <label for="name" data-translate="name">Navn</label>
                <input
                  id="name"
                  name="name"
                  placeholder="Ditt navn"
                  autocomplete="name"
                  required
                />
              </div>
              <div class="field">
                <label for="email" data-translate="email">E-post</label>
                <input
                  id="email"
                  name="email"
                  type="email"
                  placeholder="deg@domene.no"
                  autocomplete="email"
                  required
                />
              </div>
              <div class="field">
                <label for="message" data-translate="message">Melding</label>
                <textarea
                  id="message"
                  name="message"
                  placeholder="Fortell meg om deg selv"
                  required
                ></textarea>
              </div>
              <div
                class="row"
                style="justify-content: space-between; align-items: center"
              >
                <span class="small" data-translate="formNote"
                  >Dette skjemaet åpner e-postappen din med en forhåndsutfylt
                  melding.</span
                >
                <button class="btn" type="submit" data-translate="send">
                  Send
                </button>
              </div>
            </form>
          </div>
        </section>
      </div>
      <!-- Logged in content (initially hidden) -->
      <div id="loggedInContent" style="display: none">
        <section style="padding: 2rem 0">
          <div style="text-align: center; margin-bottom: 3rem">
            <h1 style="font-size: 2.5rem; margin-bottom: 0.5rem">
              Welcome back, Anders! <i class="fa-solid fa-hand"></i>
            </h1>
            <p style="font-size: 1.1rem; color: var(--muted)">
              Choose an app to get started
            </p>
          </div>
          <div class="grid cols-3" style="gap: 2rem; margin-bottom: 3rem">
            <a
              href="https://ha.garberg.wtf"
              target="_blank"
              rel="noopener"
              class="card pad app-card"
              style="
                text-decoration: none;
                transition: transform 0.2s, box-shadow 0.2s;
              "
            >
              <div style="font-size: 3rem; margin-bottom: 1rem"><i class="fa-solid fa-house"></i></div>
              <h3 style="margin: 0 0 0.5rem 0; color: var(--text)">
                Home Assistant
              </h3>
              <p class="small" style="color: var(--muted); margin: 0">
                Control your smart home devices and automation
              </p>
              <div style="margin-top: 1rem">
                <span class="tag">ha.garberg.wtf</span>
              </div>
            </a>
            <a
              href="https://tv.garberg.wtf"
              target="_blank"
              rel="noopener"
              class="card pad app-card"
              style="
                text-decoration: none;
                transition: transform 0.2s, box-shadow 0.2s;
              "
            >
              <div style="font-size: 3rem; margin-bottom: 1rem"><i class="fa-solid fa-tv"></i></div>
              <h3 style="margin: 0 0 0.5rem 0; color: var(--text)">
                Media Server
              </h3>
              <p class="small" style="color: var(--muted); margin: 0">
                Stream movies, TV shows, and manage your media library
              </p>
              <div style="margin-top: 1rem">
                <span class="tag">tv.garberg.wtf</span>
              </div>
            </a>
            <a
              href="https://request.garberg.wtf"
              target="_blank"
              rel="noopener"
              class="card pad app-card"
              style="
                text-decoration: none;
                transition: transform 0.2s, box-shadow 0.2s;
              "
            >
              <div style="font-size: 3rem; margin-bottom: 1rem"><i class="fa-solid fa-film"></i></div>
              <h3 style="margin: 0 0 0.5rem 0; color: var(--text)">
                Media Requests
              </h3>
              <p class="small" style="color: var(--muted); margin: 0">
                Request new movies and TV shows to add to your library
              </p>
              <div style="margin-top: 1rem">
                <span class="tag">request.garberg.wtf</span>
              </div>
            </a>
          </div>
          <div
            style="
              text-align: center;
              padding-top: 2rem;
              border-top: 1px solid
                color-mix(in oklab, var(--text) 8%, transparent);
            "
          >
            <h3 style="margin-bottom: 1rem">Quick Actions</h3>
            <div
              style="
                display: flex;
                gap: 1rem;
                justify-content: center;
                flex-wrap: wrap;
              "
            >
              <a href="admin.html" class="btn"><i class="fa-solid fa-chart-line"></i> Admin Dashboard</a>
              <button id="logoutBtnMain" class="btn ghost">Logout</button>
            </div>
          </div>
        </section>
      </div>
    </main>
    <footer>
      <div
        class="container"
        style="
          display: flex;
          justify-content: space-between;
          gap: 10px;
          flex-wrap: wrap;
        "
      >
        <p class="small">© <span id="year"></span> Anders Garberg</p>
        <p class="small">Trondheim, Norge</p>
      </div>
    </footer>
    <!-- JavaScript Files -->
    <script type="module" src="js/auth.js"></script>
    <script type="module" src="js/analytics.js"></script>
    <script src="js/common.js"></script>
    <script src="js/desktop.js"></script>
    <script src="js/mobile.js"></script>
    <script src="js/timeline.js"></script>
    <script type="module">
      // Track page visit on load
      if (window.analytics) {
        await window.analytics.trackVisit();
      }
      // Track CV downloads
      document.addEventListener("DOMContentLoaded", () => {
        const cvLinks = document.querySelectorAll(
          'a[data-translate="downloadCV"]'
        );
        cvLinks.forEach((link) => {
          link.addEventListener("click", async () => {
            if (window.analytics) {
              await window.analytics.trackCVDownload();
            }
          });
        });
      });
    </script>
  </body>
</html>
