function Lg(i,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function $g(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function js(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var r=i.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),n}var _l={exports:{}},ys={},El={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function Ug(){if(dh)return oe;dh=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function x(j,U,ie){this.props=j,this.context=U,this.refs=C,this.updater=ie||S}x.prototype.isReactComponent={},x.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=x.prototype;function $(j,U,ie){this.props=j,this.context=U,this.refs=C,this.updater=ie||S}var O=$.prototype=new I;O.constructor=$,T(O,x.prototype),O.isPureReactComponent=!0;var M=Array.isArray,Y=Object.prototype.hasOwnProperty,ee={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ve(j,U,ie){var ae,ue={},ce=null,pe=null;if(U!=null)for(ae in U.ref!==void 0&&(pe=U.ref),U.key!==void 0&&(ce=""+U.key),U)Y.call(U,ae)&&!se.hasOwnProperty(ae)&&(ue[ae]=U[ae]);var he=arguments.length-2;if(he===1)ue.children=ie;else if(1<he){for(var Ee=Array(he),lt=0;lt<he;lt++)Ee[lt]=arguments[lt+2];ue.children=Ee}if(j&&j.defaultProps)for(ae in he=j.defaultProps,he)ue[ae]===void 0&&(ue[ae]=he[ae]);return{$$typeof:i,type:j,key:ce,ref:pe,props:ue,_owner:ee.current}}function ye(j,U){return{$$typeof:i,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function Ie(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function pt(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return U[ie]})}var ot=/\/+/g;function at(j,U){return typeof j=="object"&&j!==null&&j.key!=null?pt(""+j.key):U.toString(36)}function Et(j,U,ie,ae,ue){var ce=typeof j;(ce==="undefined"||ce==="boolean")&&(j=null);var pe=!1;if(j===null)pe=!0;else switch(ce){case"string":case"number":pe=!0;break;case"object":switch(j.$$typeof){case i:case r:pe=!0}}if(pe)return pe=j,ue=ue(pe),j=ae===""?"."+at(pe,0):ae,M(ue)?(ie="",j!=null&&(ie=j.replace(ot,"$&/")+"/"),Et(ue,U,ie,"",function(lt){return lt})):ue!=null&&(Ie(ue)&&(ue=ye(ue,ie+(!ue.key||pe&&pe.key===ue.key?"":(""+ue.key).replace(ot,"$&/")+"/")+j)),U.push(ue)),1;if(pe=0,ae=ae===""?".":ae+":",M(j))for(var he=0;he<j.length;he++){ce=j[he];var Ee=ae+at(ce,he);pe+=Et(ce,U,ie,Ee,ue)}else if(Ee=E(j),typeof Ee=="function")for(j=Ee.call(j),he=0;!(ce=j.next()).done;)ce=ce.value,Ee=ae+at(ce,he++),pe+=Et(ce,U,ie,Ee,ue);else if(ce==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return pe}function Lt(j,U,ie){if(j==null)return j;var ae=[],ue=0;return Et(j,ae,"","",function(ce){return U.call(ie,ce,ue++)}),ae}function Ye(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var Ce={current:null},z={transition:null},re={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:z,ReactCurrentOwner:ee};function H(){throw Error("act(...) is not supported in production builds of React.")}return oe.Children={map:Lt,forEach:function(j,U,ie){Lt(j,function(){U.apply(this,arguments)},ie)},count:function(j){var U=0;return Lt(j,function(){U++}),U},toArray:function(j){return Lt(j,function(U){return U})||[]},only:function(j){if(!Ie(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},oe.Component=x,oe.Fragment=n,oe.Profiler=l,oe.PureComponent=$,oe.StrictMode=o,oe.Suspense=p,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,oe.act=H,oe.cloneElement=function(j,U,ie){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ae=T({},j.props),ue=j.key,ce=j.ref,pe=j._owner;if(U!=null){if(U.ref!==void 0&&(ce=U.ref,pe=ee.current),U.key!==void 0&&(ue=""+U.key),j.type&&j.type.defaultProps)var he=j.type.defaultProps;for(Ee in U)Y.call(U,Ee)&&!se.hasOwnProperty(Ee)&&(ae[Ee]=U[Ee]===void 0&&he!==void 0?he[Ee]:U[Ee])}var Ee=arguments.length-2;if(Ee===1)ae.children=ie;else if(1<Ee){he=Array(Ee);for(var lt=0;lt<Ee;lt++)he[lt]=arguments[lt+2];ae.children=he}return{$$typeof:i,type:j.type,key:ue,ref:ce,props:ae,_owner:pe}},oe.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:u,_context:j},j.Consumer=j},oe.createElement=ve,oe.createFactory=function(j){var U=ve.bind(null,j);return U.type=j,U},oe.createRef=function(){return{current:null}},oe.forwardRef=function(j){return{$$typeof:f,render:j}},oe.isValidElement=Ie,oe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:Ye}},oe.memo=function(j,U){return{$$typeof:g,type:j,compare:U===void 0?null:U}},oe.startTransition=function(j){var U=z.transition;z.transition={};try{j()}finally{z.transition=U}},oe.unstable_act=H,oe.useCallback=function(j,U){return Ce.current.useCallback(j,U)},oe.useContext=function(j){return Ce.current.useContext(j)},oe.useDebugValue=function(){},oe.useDeferredValue=function(j){return Ce.current.useDeferredValue(j)},oe.useEffect=function(j,U){return Ce.current.useEffect(j,U)},oe.useId=function(){return Ce.current.useId()},oe.useImperativeHandle=function(j,U,ie){return Ce.current.useImperativeHandle(j,U,ie)},oe.useInsertionEffect=function(j,U){return Ce.current.useInsertionEffect(j,U)},oe.useLayoutEffect=function(j,U){return Ce.current.useLayoutEffect(j,U)},oe.useMemo=function(j,U){return Ce.current.useMemo(j,U)},oe.useReducer=function(j,U,ie){return Ce.current.useReducer(j,U,ie)},oe.useRef=function(j){return Ce.current.useRef(j)},oe.useState=function(j){return Ce.current.useState(j)},oe.useSyncExternalStore=function(j,U,ie){return Ce.current.useSyncExternalStore(j,U,ie)},oe.useTransition=function(){return Ce.current.useTransition()},oe.version="18.3.1",oe}var hh;function eu(){return hh||(hh=1,El.exports=Ug()),El.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function Dg(){if(fh)return ys;fh=1;var i=eu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var v,y={},E=null,S=null;g!==void 0&&(E=""+g),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(S=p.ref);for(v in p)o.call(p,v)&&!u.hasOwnProperty(v)&&(y[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:r,type:f,key:E,ref:S,props:y,_owner:l.current}}return ys.Fragment=n,ys.jsx=c,ys.jsxs=c,ys}var ph;function Fg(){return ph||(ph=1,_l.exports=Dg()),_l.exports}var w=Fg(),N=eu(),Wi={},Sl={exports:{}},nt={},kl={exports:{}},bl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function Bg(){return mh||(mh=1,(function(i){function r(z,re){var H=z.length;z.push(re);e:for(;0<H;){var j=H-1>>>1,U=z[j];if(0<l(U,re))z[j]=re,z[H]=U,H=j;else break e}}function n(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var re=z[0],H=z.pop();if(H!==re){z[0]=H;e:for(var j=0,U=z.length,ie=U>>>1;j<ie;){var ae=2*(j+1)-1,ue=z[ae],ce=ae+1,pe=z[ce];if(0>l(ue,H))ce<U&&0>l(pe,ue)?(z[j]=pe,z[ce]=H,j=ce):(z[j]=ue,z[ae]=H,j=ae);else if(ce<U&&0>l(pe,H))z[j]=pe,z[ce]=H,j=ce;else break e}}return re}function l(z,re){var H=z.sortIndex-re.sortIndex;return H!==0?H:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();i.unstable_now=function(){return c.now()-f}}var p=[],g=[],v=1,y=null,E=3,S=!1,T=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(z){for(var re=n(g);re!==null;){if(re.callback===null)o(g);else if(re.startTime<=z)o(g),re.sortIndex=re.expirationTime,r(p,re);else break;re=n(g)}}function M(z){if(C=!1,O(z),!T)if(n(p)!==null)T=!0,Ye(Y);else{var re=n(g);re!==null&&Ce(M,re.startTime-z)}}function Y(z,re){T=!1,C&&(C=!1,I(ve),ve=-1),S=!0;var H=E;try{for(O(re),y=n(p);y!==null&&(!(y.expirationTime>re)||z&&!pt());){var j=y.callback;if(typeof j=="function"){y.callback=null,E=y.priorityLevel;var U=j(y.expirationTime<=re);re=i.unstable_now(),typeof U=="function"?y.callback=U:y===n(p)&&o(p),O(re)}else o(p);y=n(p)}if(y!==null)var ie=!0;else{var ae=n(g);ae!==null&&Ce(M,ae.startTime-re),ie=!1}return ie}finally{y=null,E=H,S=!1}}var ee=!1,se=null,ve=-1,ye=5,Ie=-1;function pt(){return!(i.unstable_now()-Ie<ye)}function ot(){if(se!==null){var z=i.unstable_now();Ie=z;var re=!0;try{re=se(!0,z)}finally{re?at():(ee=!1,se=null)}}else ee=!1}var at;if(typeof $=="function")at=function(){$(ot)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,Lt=Et.port2;Et.port1.onmessage=ot,at=function(){Lt.postMessage(null)}}else at=function(){x(ot,0)};function Ye(z){se=z,ee||(ee=!0,at())}function Ce(z,re){ve=x(function(){z(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){T||S||(T=!0,Ye(Y))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(z){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var H=E;E=re;try{return z()}finally{E=H}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=E;E=z;try{return re()}finally{E=H}},i.unstable_scheduleCallback=function(z,re,H){var j=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?j+H:j):H=j,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,z={id:v++,callback:re,priorityLevel:z,startTime:H,expirationTime:U,sortIndex:-1},H>j?(z.sortIndex=H,r(g,z),n(p)===null&&z===n(g)&&(C?(I(ve),ve=-1):C=!0,Ce(M,H-j))):(z.sortIndex=U,r(p,z),T||S||(T=!0,Ye(Y))),z},i.unstable_shouldYield=pt,i.unstable_wrapCallback=function(z){var re=E;return function(){var H=E;E=re;try{return z.apply(this,arguments)}finally{E=H}}}})(bl)),bl}var gh;function Mg(){return gh||(gh=1,kl.exports=Bg()),kl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh;function zg(){if(vh)return nt;vh=1;var i=eu(),r=Mg();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function E(e){return p.call(y,e)?!0:p.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function S(e,t,s,a){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,s,a){if(t===null||typeof t>"u"||S(e,t,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,s,a,d,h,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=m}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,$);x[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,$);x[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,$);x[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,t,s,a){var d=x.hasOwnProperty(t)?x[t]:null;(d!==null?d.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,s,d,a)&&(s=null),a||d===null?E(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(t=d.attributeName,a=d.attributeNamespace,s===null?e.removeAttribute(t):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}var M=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ee=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),pt=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),z=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,j;function U(e){if(j===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var ie=!1;function ae(e,t){if(!e||ie)return"";ie=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var a=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){a=A}e.call(t.prototype)}else{try{throw Error()}catch(A){a=A}e()}}catch(A){if(A&&a&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),h=a.stack.split(`
`),m=d.length-1,_=h.length-1;1<=m&&0<=_&&d[m]!==h[_];)_--;for(;1<=m&&0<=_;m--,_--)if(d[m]!==h[_]){if(m!==1||_!==1)do if(m--,_--,0>_||d[m]!==h[_]){var k=`
`+d[m].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=m&&0<=_);break}}}finally{ie=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?U(e):""}function ue(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case ee:return"Portal";case ye:return"Profiler";case ve:return"StrictMode";case at:return"Suspense";case Et:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pt:return(e.displayName||"Context")+".Consumer";case Ie:return(e._context.displayName||"Context")+".Provider";case ot:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Ye:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=Ee(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(m){a=""+m,h.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=lt(e))}function vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=Ee(e)?e.checked?"true":"false":e.value),e=a,e!==s?(t.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Co(e,t){var s=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function yu(e,t){var s=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;s=he(t.value!=null?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wu(e,t){t=t.checked,t!=null&&O(e,"checked",t,!1)}function jo(e,t){wu(e,t);var s=he(t.value),a=t.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ro(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ro(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _u(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ro(e,t,s){(t!=="number"||Ls(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Nn=Array.isArray;function qr(e,t,s,a){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&a&&(e[s].defaultSelected=!0)}else{for(s=""+he(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eu(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(Nn(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:he(s)}}function Su(e,t){var s=he(t.value),a=he(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function ku(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,xu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,a,d){MSApp.execUnsafeLocalFunction(function(){return e(t,s,a,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function In(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fp=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(e){Fp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ln[t]=Ln[e]})});function Tu(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ln.hasOwnProperty(e)&&Ln[e]?(""+t).trim():t+"px"}function Cu(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var a=s.indexOf("--")===0,d=Tu(s,t[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,d):e[s]=d}}var Bp=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(Bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function No(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $o=null,Kr=null,Gr=null;function ju(e){if(e=ns(e)){if(typeof $o!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ii(t),$o(e.stateNode,e.type,t))}}function Ru(e){Kr?Gr?Gr.push(e):Gr=[e]:Kr=e}function Pu(){if(Kr){var e=Kr,t=Gr;if(Gr=Kr=null,ju(e),t)for(e=0;e<t.length;e++)ju(t[e])}}function Ou(e,t){return e(t)}function Au(){}var Uo=!1;function Nu(e,t,s){if(Uo)return e(t,s);Uo=!0;try{return Ou(e,t,s)}finally{Uo=!1,(Kr!==null||Gr!==null)&&(Au(),Pu())}}function $n(e,t){var s=e.stateNode;if(s===null)return null;var a=ii(s);if(a===null)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Do=!1;if(f)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Do=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Do=!1}function Mp(e,t,s,a,d,h,m,_,k){var A=Array.prototype.slice.call(arguments,3);try{t.apply(s,A)}catch(D){this.onError(D)}}var Dn=!1,Us=null,Ds=!1,Fo=null,zp={onError:function(e){Dn=!0,Us=e}};function Vp(e,t,s,a,d,h,m,_,k){Dn=!1,Us=null,Mp.apply(zp,arguments)}function Wp(e,t,s,a,d,h,m,_,k){if(Vp.apply(this,arguments),Dn){if(Dn){var A=Us;Dn=!1,Us=null}else throw Error(n(198));Ds||(Ds=!0,Fo=A)}}function br(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Iu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lu(e){if(br(e)!==e)throw Error(n(188))}function Hp(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,a=t;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(a=d.return,a!==null){s=a;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return Lu(d),e;if(h===a)return Lu(d),t;h=h.sibling}throw Error(n(188))}if(s.return!==a.return)s=d,a=h;else{for(var m=!1,_=d.child;_;){if(_===s){m=!0,s=d,a=h;break}if(_===a){m=!0,a=d,s=h;break}_=_.sibling}if(!m){for(_=h.child;_;){if(_===s){m=!0,s=h,a=d;break}if(_===a){m=!0,a=h,s=d;break}_=_.sibling}if(!m)throw Error(n(189))}}if(s.alternate!==a)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function $u(e){return e=Hp(e),e!==null?Uu(e):null}function Uu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uu(e);if(t!==null)return t;e=e.sibling}return null}var Du=r.unstable_scheduleCallback,Fu=r.unstable_cancelCallback,qp=r.unstable_shouldYield,Kp=r.unstable_requestPaint,Re=r.unstable_now,Gp=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,Bu=r.unstable_UserBlockingPriority,Fs=r.unstable_NormalPriority,Jp=r.unstable_LowPriority,Mu=r.unstable_IdlePriority,Bs=null,$t=null;function Qp(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Bs,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Zp,Yp=Math.log,Xp=Math.LN2;function Zp(e){return e>>>=0,e===0?32:31-(Yp(e)/Xp|0)|0}var Ms=64,zs=4194304;function Fn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,t){var s=e.pendingLanes;if(s===0)return 0;var a=0,d=e.suspendedLanes,h=e.pingedLanes,m=s&268435455;if(m!==0){var _=m&~d;_!==0?a=Fn(_):(h&=m,h!==0&&(a=Fn(h)))}else m=s&~d,m!==0?a=Fn(m):h!==0&&(a=Fn(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&d)===0&&(d=a&-a,h=t&-t,d>=h||d===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)s=31-St(t),d=1<<s,a|=e[s],t&=~d;return a}function em(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var m=31-St(h),_=1<<m,k=d[m];k===-1?((_&s)===0||(_&a)!==0)&&(d[m]=em(_,t)):k<=t&&(e.expiredLanes|=_),h&=~_}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zu(){var e=Ms;return Ms<<=1,(Ms&4194240)===0&&(Ms=64),e}function zo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Bn(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=s}function rm(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-St(s),h=1<<d;t[d]=0,a[d]=-1,e[d]=-1,s&=~h}}function Vo(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-St(s),d=1<<a;d&t|e[a]&t&&(e[a]|=t),s&=~d}}var fe=0;function Vu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Wu,Wo,Hu,qu,Ku,Ho=!1,Ws=[],rr=null,nr=null,sr=null,Mn=new Map,zn=new Map,ir=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(t.pointerId)}}function Vn(e,t,s,a,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[d]},t!==null&&(t=ns(t),t!==null&&Wo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function sm(e,t,s,a,d){switch(t){case"focusin":return rr=Vn(rr,e,t,s,a,d),!0;case"dragenter":return nr=Vn(nr,e,t,s,a,d),!0;case"mouseover":return sr=Vn(sr,e,t,s,a,d),!0;case"pointerover":var h=d.pointerId;return Mn.set(h,Vn(Mn.get(h)||null,e,t,s,a,d)),!0;case"gotpointercapture":return h=d.pointerId,zn.set(h,Vn(zn.get(h)||null,e,t,s,a,d)),!0}return!1}function Ju(e){var t=xr(e.target);if(t!==null){var s=br(t);if(s!==null){if(t=s.tag,t===13){if(t=Iu(s),t!==null){e.blockedOn=t,Ku(e.priority,function(){Hu(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Ko(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);Io=a,s.target.dispatchEvent(a),Io=null}else return t=ns(s),t!==null&&Wo(t),e.blockedOn=s,!1;t.shift()}return!0}function Qu(e,t,s){Hs(e)&&s.delete(t)}function im(){Ho=!1,rr!==null&&Hs(rr)&&(rr=null),nr!==null&&Hs(nr)&&(nr=null),sr!==null&&Hs(sr)&&(sr=null),Mn.forEach(Qu),zn.forEach(Qu)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,im)))}function Hn(e){function t(d){return Wn(d,e)}if(0<Ws.length){Wn(Ws[0],e);for(var s=1;s<Ws.length;s++){var a=Ws[s];a.blockedOn===e&&(a.blockedOn=null)}}for(rr!==null&&Wn(rr,e),nr!==null&&Wn(nr,e),sr!==null&&Wn(sr,e),Mn.forEach(t),zn.forEach(t),s=0;s<ir.length;s++)a=ir[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)Ju(s),s.blockedOn===null&&ir.shift()}var Jr=M.ReactCurrentBatchConfig,qs=!0;function om(e,t,s,a){var d=fe,h=Jr.transition;Jr.transition=null;try{fe=1,qo(e,t,s,a)}finally{fe=d,Jr.transition=h}}function am(e,t,s,a){var d=fe,h=Jr.transition;Jr.transition=null;try{fe=4,qo(e,t,s,a)}finally{fe=d,Jr.transition=h}}function qo(e,t,s,a){if(qs){var d=Ko(e,t,s,a);if(d===null)ca(e,t,a,Ks,s),Gu(e,a);else if(sm(d,e,t,s,a))a.stopPropagation();else if(Gu(e,a),t&4&&-1<nm.indexOf(e)){for(;d!==null;){var h=ns(d);if(h!==null&&Wu(h),h=Ko(e,t,s,a),h===null&&ca(e,t,a,Ks,s),h===d)break;d=h}d!==null&&a.stopPropagation()}else ca(e,t,a,null,s)}}var Ks=null;function Ko(e,t,s,a){if(Ks=null,e=Lo(a),e=xr(e),e!==null)if(t=br(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Iu(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function Yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gp()){case Bo:return 1;case Bu:return 4;case Fs:case Jp:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var or=null,Go=null,Gs=null;function Xu(){if(Gs)return Gs;var e,t=Go,s=t.length,a,d="value"in or?or.value:or.textContent,h=d.length;for(e=0;e<s&&t[e]===d[e];e++);var m=s-e;for(a=1;a<=m&&t[s-a]===d[h-a];a++);return Gs=d.slice(e,1<a?1-a:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function Zu(){return!1}function ut(e){function t(s,a,d,h,m){this._reactName=s,this._targetInst=d,this.type=a,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Qs:Zu,this.isPropagationStopped=Zu,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=ut(Qr),qn=H({},Qr,{view:0,detail:0}),lm=ut(qn),Qo,Yo,Kn,Ys=H({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(Qo=e.screenX-Kn.screenX,Yo=e.screenY-Kn.screenY):Yo=Qo=0,Kn=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),ec=ut(Ys),um=H({},Ys,{dataTransfer:0}),cm=ut(um),dm=H({},qn,{relatedTarget:0}),Xo=ut(dm),hm=H({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=ut(hm),pm=H({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mm=ut(pm),gm=H({},Qr,{data:0}),tc=ut(gm),vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wm[e])?!!t[e]:!1}function Zo(){return _m}var Em=H({},qn,{key:function(e){if(e.key){var t=vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sm=ut(Em),km=H({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=ut(km),bm=H({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),xm=ut(bm),Tm=H({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=ut(Tm),jm=H({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rm=ut(jm),Pm=[9,13,27,32],ea=f&&"CompositionEvent"in window,Gn=null;f&&"documentMode"in document&&(Gn=document.documentMode);var Om=f&&"TextEvent"in window&&!Gn,nc=f&&(!ea||Gn&&8<Gn&&11>=Gn),sc=" ",ic=!1;function oc(e,t){switch(e){case"keyup":return Pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function Am(e,t){switch(e){case"compositionend":return ac(t);case"keypress":return t.which!==32?null:(ic=!0,sc);case"textInput":return e=t.data,e===sc&&ic?null:e;default:return null}}function Nm(e,t){if(Yr)return e==="compositionend"||!ea&&oc(e,t)?(e=Xu(),Gs=Go=or=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nc&&t.locale!=="ko"?null:t.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Im[e.type]:t==="textarea"}function uc(e,t,s,a){Ru(a),t=ri(t,"onChange"),0<t.length&&(s=new Jo("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Jn=null,Qn=null;function Lm(e){Cc(e,0)}function Xs(e){var t=rn(e);if(vu(t))return e}function $m(e,t){if(e==="change")return t}var cc=!1;if(f){var ta;if(f){var ra="oninput"in document;if(!ra){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),ra=typeof dc.oninput=="function"}ta=ra}else ta=!1;cc=ta&&(!document.documentMode||9<document.documentMode)}function hc(){Jn&&(Jn.detachEvent("onpropertychange",fc),Qn=Jn=null)}function fc(e){if(e.propertyName==="value"&&Xs(Qn)){var t=[];uc(t,Qn,e,Lo(e)),Nu(Lm,t)}}function Um(e,t,s){e==="focusin"?(hc(),Jn=t,Qn=s,Jn.attachEvent("onpropertychange",fc)):e==="focusout"&&hc()}function Dm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xs(Qn)}function Fm(e,t){if(e==="click")return Xs(t)}function Bm(e,t){if(e==="input"||e==="change")return Xs(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Mm;function Yn(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var d=s[a];if(!p.call(t,d)||!kt(e[d],t[d]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var s=pc(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=t&&a>=t)return{node:s,offset:t-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pc(s)}}function gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vc(){for(var e=window,t=Ls();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ls(e.document)}return t}function na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zm(e){var t=vc(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&gc(s.ownerDocument.documentElement,s)){if(a!==null&&na(s)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,h=Math.min(a.start,d);a=a.end===void 0?h:Math.min(a.end,d),!e.extend&&h>a&&(d=a,a=h,h=d),d=mc(s,h);var m=mc(s,a);d&&m&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=f&&"documentMode"in document&&11>=document.documentMode,Xr=null,sa=null,Xn=null,ia=!1;function yc(e,t,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ia||Xr==null||Xr!==Ls(a)||(a=Xr,"selectionStart"in a&&na(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Xn&&Yn(Xn,a)||(Xn=a,a=ri(sa,"onSelect"),0<a.length&&(t=new Jo("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=Xr)))}function Zs(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Zr={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},oa={},wc={};f&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ei(e){if(oa[e])return oa[e];if(!Zr[e])return e;var t=Zr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in wc)return oa[e]=t[s];return e}var _c=ei("animationend"),Ec=ei("animationiteration"),Sc=ei("animationstart"),kc=ei("transitionend"),bc=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){bc.set(e,t),u(t,[e])}for(var aa=0;aa<xc.length;aa++){var la=xc[aa],Wm=la.toLowerCase(),Hm=la[0].toUpperCase()+la.slice(1);ar(Wm,"on"+Hm)}ar(_c,"onAnimationEnd"),ar(Ec,"onAnimationIteration"),ar(Sc,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(kc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function Tc(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,Wp(a,t,void 0,e),e.currentTarget=null}function Cc(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],d=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var m=a.length-1;0<=m;m--){var _=a[m],k=_.instance,A=_.currentTarget;if(_=_.listener,k!==h&&d.isPropagationStopped())break e;Tc(d,_,A),h=k}else for(m=0;m<a.length;m++){if(_=a[m],k=_.instance,A=_.currentTarget,_=_.listener,k!==h&&d.isPropagationStopped())break e;Tc(d,_,A),h=k}}}if(Ds)throw e=Fo,Ds=!1,Fo=null,e}function we(e,t){var s=t[ga];s===void 0&&(s=t[ga]=new Set);var a=e+"__bubble";s.has(a)||(jc(t,e,2,!1),s.add(a))}function ua(e,t,s){var a=0;t&&(a|=4),jc(s,e,a,t)}var ti="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[ti]){e[ti]=!0,o.forEach(function(s){s!=="selectionchange"&&(qm.has(s)||ua(s,!1,e),ua(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ti]||(t[ti]=!0,ua("selectionchange",!1,t))}}function jc(e,t,s,a){switch(Yu(t)){case 1:var d=om;break;case 4:d=am;break;default:d=qo}s=d.bind(null,t,s,e),d=void 0,!Do||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function ca(e,t,s,a,d){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var _=a.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(m===4)for(m=a.return;m!==null;){var k=m.tag;if((k===3||k===4)&&(k=m.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;m=m.return}for(;_!==null;){if(m=xr(_),m===null)return;if(k=m.tag,k===5||k===6){a=h=m;continue e}_=_.parentNode}}a=a.return}Nu(function(){var A=h,D=Lo(s),F=[];e:{var L=bc.get(e);if(L!==void 0){var V=Jo,K=e;switch(e){case"keypress":if(Js(s)===0)break e;case"keydown":case"keyup":V=Sm;break;case"focusin":K="focus",V=Xo;break;case"focusout":K="blur",V=Xo;break;case"beforeblur":case"afterblur":V=Xo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=xm;break;case _c:case Ec:case Sc:V=fm;break;case kc:V=Cm;break;case"scroll":V=lm;break;case"wheel":V=Rm;break;case"copy":case"cut":case"paste":V=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=rc}var G=(t&4)!==0,Pe=!G&&e==="scroll",R=G?L!==null?L+"Capture":null:L;G=[];for(var b=A,P;b!==null;){P=b;var B=P.stateNode;if(P.tag===5&&B!==null&&(P=B,R!==null&&(B=$n(b,R),B!=null&&G.push(ts(b,B,P)))),Pe)break;b=b.return}0<G.length&&(L=new V(L,K,null,s,D),F.push({event:L,listeners:G}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",L&&s!==Io&&(K=s.relatedTarget||s.fromElement)&&(xr(K)||K[zt]))break e;if((V||L)&&(L=D.window===D?D:(L=D.ownerDocument)?L.defaultView||L.parentWindow:window,V?(K=s.relatedTarget||s.toElement,V=A,K=K?xr(K):null,K!==null&&(Pe=br(K),K!==Pe||K.tag!==5&&K.tag!==6)&&(K=null)):(V=null,K=A),V!==K)){if(G=ec,B="onMouseLeave",R="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(G=rc,B="onPointerLeave",R="onPointerEnter",b="pointer"),Pe=V==null?L:rn(V),P=K==null?L:rn(K),L=new G(B,b+"leave",V,s,D),L.target=Pe,L.relatedTarget=P,B=null,xr(D)===A&&(G=new G(R,b+"enter",K,s,D),G.target=P,G.relatedTarget=Pe,B=G),Pe=B,V&&K)t:{for(G=V,R=K,b=0,P=G;P;P=en(P))b++;for(P=0,B=R;B;B=en(B))P++;for(;0<b-P;)G=en(G),b--;for(;0<P-b;)R=en(R),P--;for(;b--;){if(G===R||R!==null&&G===R.alternate)break t;G=en(G),R=en(R)}G=null}else G=null;V!==null&&Rc(F,L,V,G,!1),K!==null&&Pe!==null&&Rc(F,Pe,K,G,!0)}}e:{if(L=A?rn(A):window,V=L.nodeName&&L.nodeName.toLowerCase(),V==="select"||V==="input"&&L.type==="file")var J=$m;else if(lc(L))if(cc)J=Bm;else{J=Dm;var X=Um}else(V=L.nodeName)&&V.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(J=Fm);if(J&&(J=J(e,A))){uc(F,J,s,D);break e}X&&X(e,L,A),e==="focusout"&&(X=L._wrapperState)&&X.controlled&&L.type==="number"&&Ro(L,"number",L.value)}switch(X=A?rn(A):window,e){case"focusin":(lc(X)||X.contentEditable==="true")&&(Xr=X,sa=A,Xn=null);break;case"focusout":Xn=sa=Xr=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,yc(F,s,D);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":yc(F,s,D)}var Z;if(ea)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Yr?oc(e,s)&&(ne="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ne="onCompositionStart");ne&&(nc&&s.locale!=="ko"&&(Yr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Yr&&(Z=Xu()):(or=D,Go="value"in or?or.value:or.textContent,Yr=!0)),X=ri(A,ne),0<X.length&&(ne=new tc(ne,e,null,s,D),F.push({event:ne,listeners:X}),Z?ne.data=Z:(Z=ac(s),Z!==null&&(ne.data=Z)))),(Z=Om?Am(e,s):Nm(e,s))&&(A=ri(A,"onBeforeInput"),0<A.length&&(D=new tc("onBeforeInput","beforeinput",null,s,D),F.push({event:D,listeners:A}),D.data=Z))}Cc(F,t)})}function ts(e,t,s){return{instance:e,listener:t,currentTarget:s}}function ri(e,t){for(var s=t+"Capture",a=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=$n(e,s),h!=null&&a.unshift(ts(e,h,d)),h=$n(e,t),h!=null&&a.push(ts(e,h,d))),e=e.return}return a}function en(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rc(e,t,s,a,d){for(var h=t._reactName,m=[];s!==null&&s!==a;){var _=s,k=_.alternate,A=_.stateNode;if(k!==null&&k===a)break;_.tag===5&&A!==null&&(_=A,d?(k=$n(s,h),k!=null&&m.unshift(ts(s,k,_))):d||(k=$n(s,h),k!=null&&m.push(ts(s,k,_)))),s=s.return}m.length!==0&&e.push({event:t,listeners:m})}var Km=/\r\n?/g,Gm=/\u0000|\uFFFD/g;function Pc(e){return(typeof e=="string"?e:""+e).replace(Km,`
`).replace(Gm,"")}function ni(e,t,s){if(t=Pc(t),Pc(e)!==t&&s)throw Error(n(425))}function si(){}var da=null,ha=null;function fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pa=typeof setTimeout=="function"?setTimeout:void 0,Jm=typeof clearTimeout=="function"?clearTimeout:void 0,Oc=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof Oc<"u"?function(e){return Oc.resolve(null).then(e).catch(Ym)}:pa;function Ym(e){setTimeout(function(){throw e})}function ma(e,t){var s=t,a=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(a===0){e.removeChild(d),Hn(t);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=d}while(s);Hn(t)}function lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var tn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+tn,rs="__reactProps$"+tn,zt="__reactContainer$"+tn,ga="__reactEvents$"+tn,Xm="__reactListeners$"+tn,Zm="__reactHandles$"+tn;function xr(e){var t=e[Ut];if(t)return t;for(var s=e.parentNode;s;){if(t=s[zt]||s[Ut]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Ac(e);e!==null;){if(s=e[Ut])return s;e=Ac(e)}return t}e=s,s=e.parentNode}return null}function ns(e){return e=e[Ut]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ii(e){return e[rs]||null}var va=[],nn=-1;function ur(e){return{current:e}}function _e(e){0>nn||(e.current=va[nn],va[nn]=null,nn--)}function me(e,t){nn++,va[nn]=e.current,e.current=t}var cr={},We=ur(cr),Xe=ur(!1),Tr=cr;function sn(e,t){var s=e.type.contextTypes;if(!s)return cr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in s)d[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ze(e){return e=e.childContextTypes,e!=null}function oi(){_e(Xe),_e(We)}function Nc(e,t,s){if(We.current!==cr)throw Error(n(168));me(We,t),me(Xe,s)}function Ic(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var d in a)if(!(d in t))throw Error(n(108,pe(e)||"Unknown",d));return H({},s,a)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,Tr=We.current,me(We,e),me(Xe,Xe.current),!0}function Lc(e,t,s){var a=e.stateNode;if(!a)throw Error(n(169));s?(e=Ic(e,t,Tr),a.__reactInternalMemoizedMergedChildContext=e,_e(Xe),_e(We),me(We,e)):_e(Xe),me(Xe,s)}var Vt=null,li=!1,ya=!1;function $c(e){Vt===null?Vt=[e]:Vt.push(e)}function eg(e){li=!0,$c(e)}function dr(){if(!ya&&Vt!==null){ya=!0;var e=0,t=fe;try{var s=Vt;for(fe=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}Vt=null,li=!1}catch(d){throw Vt!==null&&(Vt=Vt.slice(e+1)),Du(Bo,dr),d}finally{fe=t,ya=!1}}return null}var on=[],an=0,ui=null,ci=0,mt=[],gt=0,Cr=null,Wt=1,Ht="";function jr(e,t){on[an++]=ci,on[an++]=ui,ui=e,ci=t}function Uc(e,t,s){mt[gt++]=Wt,mt[gt++]=Ht,mt[gt++]=Cr,Cr=e;var a=Wt;e=Ht;var d=32-St(a)-1;a&=~(1<<d),s+=1;var h=32-St(t)+d;if(30<h){var m=d-d%5;h=(a&(1<<m)-1).toString(32),a>>=m,d-=m,Wt=1<<32-St(t)+d|s<<d|a,Ht=h+e}else Wt=1<<h|s<<d|a,Ht=e}function wa(e){e.return!==null&&(jr(e,1),Uc(e,1,0))}function _a(e){for(;e===ui;)ui=on[--an],on[an]=null,ci=on[--an],on[an]=null;for(;e===Cr;)Cr=mt[--gt],mt[gt]=null,Ht=mt[--gt],mt[gt]=null,Wt=mt[--gt],mt[gt]=null}var ct=null,dt=null,Se=!1,bt=null;function Dc(e,t){var s=_t(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Fc(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Cr!==null?{id:Wt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=_t(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ct=e,dt=null,!0):!1;default:return!1}}function Ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sa(e){if(Se){var t=dt;if(t){var s=t;if(!Fc(e,t)){if(Ea(e))throw Error(n(418));t=lr(s.nextSibling);var a=ct;t&&Fc(e,t)?Dc(a,s):(e.flags=e.flags&-4097|2,Se=!1,ct=e)}}else{if(Ea(e))throw Error(n(418));e.flags=e.flags&-4097|2,Se=!1,ct=e}}}function Bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function di(e){if(e!==ct)return!1;if(!Se)return Bc(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fa(e.type,e.memoizedProps)),t&&(t=dt)){if(Ea(e))throw Mc(),Error(n(418));for(;t;)Dc(e,t),t=lr(t.nextSibling)}if(Bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){dt=lr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?lr(e.stateNode.nextSibling):null;return!0}function Mc(){for(var e=dt;e;)e=lr(e.nextSibling)}function ln(){dt=ct=null,Se=!1}function ka(e){bt===null?bt=[e]:bt.push(e)}var tg=M.ReactCurrentBatchConfig;function ss(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var a=s.stateNode}if(!a)throw Error(n(147,e));var d=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(m){var _=d.refs;m===null?delete _[h]:_[h]=m},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zc(e){var t=e._init;return t(e._payload)}function Vc(e){function t(R,b){if(e){var P=R.deletions;P===null?(R.deletions=[b],R.flags|=16):P.push(b)}}function s(R,b){if(!e)return null;for(;b!==null;)t(R,b),b=b.sibling;return null}function a(R,b){for(R=new Map;b!==null;)b.key!==null?R.set(b.key,b):R.set(b.index,b),b=b.sibling;return R}function d(R,b){return R=wr(R,b),R.index=0,R.sibling=null,R}function h(R,b,P){return R.index=P,e?(P=R.alternate,P!==null?(P=P.index,P<b?(R.flags|=2,b):P):(R.flags|=2,b)):(R.flags|=1048576,b)}function m(R){return e&&R.alternate===null&&(R.flags|=2),R}function _(R,b,P,B){return b===null||b.tag!==6?(b=pl(P,R.mode,B),b.return=R,b):(b=d(b,P),b.return=R,b)}function k(R,b,P,B){var J=P.type;return J===se?D(R,b,P.props.children,B,P.key):b!==null&&(b.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ye&&zc(J)===b.type)?(B=d(b,P.props),B.ref=ss(R,b,P),B.return=R,B):(B=$i(P.type,P.key,P.props,null,R.mode,B),B.ref=ss(R,b,P),B.return=R,B)}function A(R,b,P,B){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=ml(P,R.mode,B),b.return=R,b):(b=d(b,P.children||[]),b.return=R,b)}function D(R,b,P,B,J){return b===null||b.tag!==7?(b=$r(P,R.mode,B,J),b.return=R,b):(b=d(b,P),b.return=R,b)}function F(R,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=pl(""+b,R.mode,P),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Y:return P=$i(b.type,b.key,b.props,null,R.mode,P),P.ref=ss(R,null,b),P.return=R,P;case ee:return b=ml(b,R.mode,P),b.return=R,b;case Ye:var B=b._init;return F(R,B(b._payload),P)}if(Nn(b)||re(b))return b=$r(b,R.mode,P,null),b.return=R,b;hi(R,b)}return null}function L(R,b,P,B){var J=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return J!==null?null:_(R,b,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===J?k(R,b,P,B):null;case ee:return P.key===J?A(R,b,P,B):null;case Ye:return J=P._init,L(R,b,J(P._payload),B)}if(Nn(P)||re(P))return J!==null?null:D(R,b,P,B,null);hi(R,P)}return null}function V(R,b,P,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return R=R.get(P)||null,_(b,R,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return R=R.get(B.key===null?P:B.key)||null,k(b,R,B,J);case ee:return R=R.get(B.key===null?P:B.key)||null,A(b,R,B,J);case Ye:var X=B._init;return V(R,b,P,X(B._payload),J)}if(Nn(B)||re(B))return R=R.get(P)||null,D(b,R,B,J,null);hi(b,B)}return null}function K(R,b,P,B){for(var J=null,X=null,Z=b,ne=b=0,Fe=null;Z!==null&&ne<P.length;ne++){Z.index>ne?(Fe=Z,Z=null):Fe=Z.sibling;var de=L(R,Z,P[ne],B);if(de===null){Z===null&&(Z=Fe);break}e&&Z&&de.alternate===null&&t(R,Z),b=h(de,b,ne),X===null?J=de:X.sibling=de,X=de,Z=Fe}if(ne===P.length)return s(R,Z),Se&&jr(R,ne),J;if(Z===null){for(;ne<P.length;ne++)Z=F(R,P[ne],B),Z!==null&&(b=h(Z,b,ne),X===null?J=Z:X.sibling=Z,X=Z);return Se&&jr(R,ne),J}for(Z=a(R,Z);ne<P.length;ne++)Fe=V(Z,R,ne,P[ne],B),Fe!==null&&(e&&Fe.alternate!==null&&Z.delete(Fe.key===null?ne:Fe.key),b=h(Fe,b,ne),X===null?J=Fe:X.sibling=Fe,X=Fe);return e&&Z.forEach(function(_r){return t(R,_r)}),Se&&jr(R,ne),J}function G(R,b,P,B){var J=re(P);if(typeof J!="function")throw Error(n(150));if(P=J.call(P),P==null)throw Error(n(151));for(var X=J=null,Z=b,ne=b=0,Fe=null,de=P.next();Z!==null&&!de.done;ne++,de=P.next()){Z.index>ne?(Fe=Z,Z=null):Fe=Z.sibling;var _r=L(R,Z,de.value,B);if(_r===null){Z===null&&(Z=Fe);break}e&&Z&&_r.alternate===null&&t(R,Z),b=h(_r,b,ne),X===null?J=_r:X.sibling=_r,X=_r,Z=Fe}if(de.done)return s(R,Z),Se&&jr(R,ne),J;if(Z===null){for(;!de.done;ne++,de=P.next())de=F(R,de.value,B),de!==null&&(b=h(de,b,ne),X===null?J=de:X.sibling=de,X=de);return Se&&jr(R,ne),J}for(Z=a(R,Z);!de.done;ne++,de=P.next())de=V(Z,R,ne,de.value,B),de!==null&&(e&&de.alternate!==null&&Z.delete(de.key===null?ne:de.key),b=h(de,b,ne),X===null?J=de:X.sibling=de,X=de);return e&&Z.forEach(function(Ig){return t(R,Ig)}),Se&&jr(R,ne),J}function Pe(R,b,P,B){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var J=P.key,X=b;X!==null;){if(X.key===J){if(J=P.type,J===se){if(X.tag===7){s(R,X.sibling),b=d(X,P.props.children),b.return=R,R=b;break e}}else if(X.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Ye&&zc(J)===X.type){s(R,X.sibling),b=d(X,P.props),b.ref=ss(R,X,P),b.return=R,R=b;break e}s(R,X);break}else t(R,X);X=X.sibling}P.type===se?(b=$r(P.props.children,R.mode,B,P.key),b.return=R,R=b):(B=$i(P.type,P.key,P.props,null,R.mode,B),B.ref=ss(R,b,P),B.return=R,R=B)}return m(R);case ee:e:{for(X=P.key;b!==null;){if(b.key===X)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){s(R,b.sibling),b=d(b,P.children||[]),b.return=R,R=b;break e}else{s(R,b);break}else t(R,b);b=b.sibling}b=ml(P,R.mode,B),b.return=R,R=b}return m(R);case Ye:return X=P._init,Pe(R,b,X(P._payload),B)}if(Nn(P))return K(R,b,P,B);if(re(P))return G(R,b,P,B);hi(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(s(R,b.sibling),b=d(b,P),b.return=R,R=b):(s(R,b),b=pl(P,R.mode,B),b.return=R,R=b),m(R)):s(R,b)}return Pe}var un=Vc(!0),Wc=Vc(!1),fi=ur(null),pi=null,cn=null,ba=null;function xa(){ba=cn=pi=null}function Ta(e){var t=fi.current;_e(fi),e._currentValue=t}function Ca(e,t,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function dn(e,t){pi=e,ba=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(et=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(pi===null)throw Error(n(308));cn=e,pi.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Rr=null;function ja(e){Rr===null?Rr=[e]:Rr.push(e)}function Hc(e,t,s,a){var d=t.interleaved;return d===null?(s.next=s,ja(t)):(s.next=d.next,d.next=s),t.interleaved=s,qt(e,a)}function qt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var hr=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fr(e,t,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(le&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,qt(e,s)}return d=a.interleaved,d===null?(t.next=t,ja(a)):(t.next=d.next,d.next=t),a.interleaved=t,qt(e,s)}function mi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Vo(e,s)}}function Kc(e,t){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?d=h=m:h=h.next=m,s=s.next}while(s!==null);h===null?d=h=t:h=h.next=t}else d=h=t;s={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function gi(e,t,s,a){var d=e.updateQueue;hr=!1;var h=d.firstBaseUpdate,m=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var k=_,A=k.next;k.next=null,m===null?h=A:m.next=A,m=k;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==m&&(_===null?D.firstBaseUpdate=A:_.next=A,D.lastBaseUpdate=k))}if(h!==null){var F=d.baseState;m=0,D=A=k=null,_=h;do{var L=_.lane,V=_.eventTime;if((a&L)===L){D!==null&&(D=D.next={eventTime:V,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var K=e,G=_;switch(L=t,V=s,G.tag){case 1:if(K=G.payload,typeof K=="function"){F=K.call(V,F,L);break e}F=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,L=typeof K=="function"?K.call(V,F,L):K,L==null)break e;F=H({},F,L);break e;case 2:hr=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,L=d.effects,L===null?d.effects=[_]:L.push(_))}else V={eventTime:V,lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(A=D=V,k=F):D=D.next=V,m|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(D===null&&(k=F),d.baseState=k,d.firstBaseUpdate=A,d.lastBaseUpdate=D,t=d.shared.interleaved,t!==null){d=t;do m|=d.lane,d=d.next;while(d!==t)}else h===null&&(d.shared.lanes=0);Ar|=m,e.lanes=m,e.memoizedState=F}}function Gc(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],d=a.callback;if(d!==null){if(a.callback=null,a=s,typeof d!="function")throw Error(n(191,d));d.call(a)}}}var is={},Dt=ur(is),os=ur(is),as=ur(is);function Pr(e){if(e===is)throw Error(n(174));return e}function Pa(e,t){switch(me(as,t),me(os,e),me(Dt,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oo(t,e)}_e(Dt),me(Dt,t)}function hn(){_e(Dt),_e(os),_e(as)}function Jc(e){Pr(as.current);var t=Pr(Dt.current),s=Oo(t,e.type);t!==s&&(me(os,e),me(Dt,s))}function Oa(e){os.current===e&&(_e(Dt),_e(os))}var be=ur(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function Na(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var yi=M.ReactCurrentDispatcher,Ia=M.ReactCurrentBatchConfig,Or=0,xe=null,Le=null,Ue=null,wi=!1,ls=!1,us=0,rg=0;function He(){throw Error(n(321))}function La(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!kt(e[s],t[s]))return!1;return!0}function $a(e,t,s,a,d,h){if(Or=h,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yi.current=e===null||e.memoizedState===null?og:ag,e=s(a,d),ls){h=0;do{if(ls=!1,us=0,25<=h)throw Error(n(301));h+=1,Ue=Le=null,t.updateQueue=null,yi.current=lg,e=s(a,d)}while(ls)}if(yi.current=Si,t=Le!==null&&Le.next!==null,Or=0,Ue=Le=xe=null,wi=!1,t)throw Error(n(300));return e}function Ua(){var e=us!==0;return us=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?xe.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function yt(){if(Le===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ue===null?xe.memoizedState:Ue.next;if(t!==null)Ue=t,Le=e;else{if(e===null)throw Error(n(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ue===null?xe.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function cs(e,t){return typeof t=="function"?t(e):t}function Da(e){var t=yt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=Le,d=a.baseQueue,h=s.pending;if(h!==null){if(d!==null){var m=d.next;d.next=h.next,h.next=m}a.baseQueue=d=h,s.pending=null}if(d!==null){h=d.next,a=a.baseState;var _=m=null,k=null,A=h;do{var D=A.lane;if((Or&D)===D)k!==null&&(k=k.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),a=A.hasEagerState?A.eagerState:e(a,A.action);else{var F={lane:D,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};k===null?(_=k=F,m=a):k=k.next=F,xe.lanes|=D,Ar|=D}A=A.next}while(A!==null&&A!==h);k===null?m=a:k.next=_,kt(a,t.memoizedState)||(et=!0),t.memoizedState=a,t.baseState=m,t.baseQueue=k,s.lastRenderedState=a}if(e=s.interleaved,e!==null){d=e;do h=d.lane,xe.lanes|=h,Ar|=h,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Fa(e){var t=yt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var a=s.dispatch,d=s.pending,h=t.memoizedState;if(d!==null){s.pending=null;var m=d=d.next;do h=e(h,m.action),m=m.next;while(m!==d);kt(h,t.memoizedState)||(et=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),s.lastRenderedState=h}return[h,a]}function Qc(){}function Yc(e,t){var s=xe,a=yt(),d=t(),h=!kt(a.memoizedState,d);if(h&&(a.memoizedState=d,et=!0),a=a.queue,Ba(ed.bind(null,s,a,e),[e]),a.getSnapshot!==t||h||Ue!==null&&Ue.memoizedState.tag&1){if(s.flags|=2048,ds(9,Zc.bind(null,s,a,d,t),void 0,null),De===null)throw Error(n(349));(Or&30)!==0||Xc(s,t,d)}return d}function Xc(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Zc(e,t,s,a){t.value=s,t.getSnapshot=a,td(t)&&rd(e)}function ed(e,t,s){return s(function(){td(t)&&rd(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!kt(e,s)}catch{return!0}}function rd(e){var t=qt(e,1);t!==null&&jt(t,e,1,-1)}function nd(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=ig.bind(null,xe,e),[t.memoizedState,e]}function ds(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e)),e}function sd(){return yt().memoizedState}function _i(e,t,s,a){var d=Ft();xe.flags|=e,d.memoizedState=ds(1|t,s,void 0,a===void 0?null:a)}function Ei(e,t,s,a){var d=yt();a=a===void 0?null:a;var h=void 0;if(Le!==null){var m=Le.memoizedState;if(h=m.destroy,a!==null&&La(a,m.deps)){d.memoizedState=ds(t,s,h,a);return}}xe.flags|=e,d.memoizedState=ds(1|t,s,h,a)}function id(e,t){return _i(8390656,8,e,t)}function Ba(e,t){return Ei(2048,8,e,t)}function od(e,t){return Ei(4,2,e,t)}function ad(e,t){return Ei(4,4,e,t)}function ld(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ud(e,t,s){return s=s!=null?s.concat([e]):null,Ei(4,4,ld.bind(null,t,e),s)}function Ma(){}function cd(e,t){var s=yt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&La(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function dd(e,t){var s=yt();t=t===void 0?null:t;var a=s.memoizedState;return a!==null&&t!==null&&La(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function hd(e,t,s){return(Or&21)===0?(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=s):(kt(s,t)||(s=zu(),xe.lanes|=s,Ar|=s,e.baseState=!0),t)}function ng(e,t){var s=fe;fe=s!==0&&4>s?s:4,e(!0);var a=Ia.transition;Ia.transition={};try{e(!1),t()}finally{fe=s,Ia.transition=a}}function fd(){return yt().memoizedState}function sg(e,t,s){var a=vr(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},pd(e))md(t,s);else if(s=Hc(e,t,s,a),s!==null){var d=Qe();jt(s,e,a,d),gd(s,t,a)}}function ig(e,t,s){var a=vr(e),d={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(pd(e))md(t,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var m=t.lastRenderedState,_=h(m,s);if(d.hasEagerState=!0,d.eagerState=_,kt(_,m)){var k=t.interleaved;k===null?(d.next=d,ja(t)):(d.next=k.next,k.next=d),t.interleaved=d;return}}catch{}finally{}s=Hc(e,t,d,a),s!==null&&(d=Qe(),jt(s,e,a,d),gd(s,t,a))}}function pd(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function md(e,t){ls=wi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function gd(e,t,s){if((s&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,s|=a,t.lanes=s,Vo(e,s)}}var Si={readContext:vt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},og={readContext:vt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:id,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,_i(4194308,4,ld.bind(null,t,e),s)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var s=Ft();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=Ft();return t=s!==void 0?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=sg.bind(null,xe,e),[a.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:nd,useDebugValue:Ma,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=nd(!1),t=e[0];return e=ng.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=xe,d=Ft();if(Se){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),De===null)throw Error(n(349));(Or&30)!==0||Xc(a,t,s)}d.memoizedState=s;var h={value:s,getSnapshot:t};return d.queue=h,id(ed.bind(null,a,h,e),[e]),a.flags|=2048,ds(9,Zc.bind(null,a,h,s,t),void 0,null),s},useId:function(){var e=Ft(),t=De.identifierPrefix;if(Se){var s=Ht,a=Wt;s=(a&~(1<<32-St(a)-1)).toString(32)+s,t=":"+t+"R"+s,s=us++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=rg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ag={readContext:vt,useCallback:cd,useContext:vt,useEffect:Ba,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:ad,useMemo:dd,useReducer:Da,useRef:sd,useState:function(){return Da(cs)},useDebugValue:Ma,useDeferredValue:function(e){var t=yt();return hd(t,Le.memoizedState,e)},useTransition:function(){var e=Da(cs)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Yc,useId:fd,unstable_isNewReconciler:!1},lg={readContext:vt,useCallback:cd,useContext:vt,useEffect:Ba,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:ad,useMemo:dd,useReducer:Fa,useRef:sd,useState:function(){return Fa(cs)},useDebugValue:Ma,useDeferredValue:function(e){var t=yt();return Le===null?t.memoizedState=e:hd(t,Le.memoizedState,e)},useTransition:function(){var e=Fa(cs)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Qc,useSyncExternalStore:Yc,useId:fd,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function za(e,t,s,a){t=e.memoizedState,s=s(a,t),s=s==null?t:H({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ki={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=Qe(),d=vr(e),h=Kt(a,d);h.payload=t,s!=null&&(h.callback=s),t=fr(e,h,d),t!==null&&(jt(t,e,d,a),mi(t,e,d))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=Qe(),d=vr(e),h=Kt(a,d);h.tag=1,h.payload=t,s!=null&&(h.callback=s),t=fr(e,h,d),t!==null&&(jt(t,e,d,a),mi(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Qe(),a=vr(e),d=Kt(s,a);d.tag=2,t!=null&&(d.callback=t),t=fr(e,d,a),t!==null&&(jt(t,e,a,s),mi(t,e,a))}};function vd(e,t,s,a,d,h,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,m):t.prototype&&t.prototype.isPureReactComponent?!Yn(s,a)||!Yn(d,h):!0}function yd(e,t,s){var a=!1,d=cr,h=t.contextType;return typeof h=="object"&&h!==null?h=vt(h):(d=Ze(t)?Tr:We.current,a=t.contextTypes,h=(a=a!=null)?sn(e,d):cr),t=new t(s,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ki,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),t}function wd(e,t,s,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&ki.enqueueReplaceState(t,t.state,null)}function Va(e,t,s,a){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},Ra(e);var h=t.contextType;typeof h=="object"&&h!==null?d.context=vt(h):(h=Ze(t)?Tr:We.current,d.context=sn(e,h)),d.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(za(e,t,h,s),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&ki.enqueueReplaceState(d,d.state,null),gi(e,s,d,a),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var s="",a=t;do s+=ue(a),a=a.return;while(a);var d=s}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:d,digest:null}}function Wa(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function _d(e,t,s){s=Kt(-1,s),s.tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Pi||(Pi=!0,ol=a),Ha(e,t)},s}function Ed(e,t,s){s=Kt(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var d=t.value;s.payload=function(){return a(d)},s.callback=function(){Ha(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Ha(e,t),typeof a!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),s}function Sd(e,t,s){var a=e.pingCache;if(a===null){a=e.pingCache=new ug;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(s)||(d.add(s),e=kg.bind(null,e,t,s),t.then(e,e))}function kd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,s,a,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Kt(-1,1),t.tag=2,fr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var cg=M.ReactCurrentOwner,et=!1;function Je(e,t,s,a){t.child=e===null?Wc(t,null,s,a):un(t,e.child,s,a)}function xd(e,t,s,a,d){s=s.render;var h=t.ref;return dn(t,d),a=$a(e,t,s,a,h,d),s=Ua(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Gt(e,t,d)):(Se&&s&&wa(t),t.flags|=1,Je(e,t,a,d),t.child)}function Td(e,t,s,a,d){if(e===null){var h=s.type;return typeof h=="function"&&!fl(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=h,Cd(e,t,h,a,d)):(e=$i(s.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&d)===0){var m=h.memoizedProps;if(s=s.compare,s=s!==null?s:Yn,s(m,a)&&e.ref===t.ref)return Gt(e,t,d)}return t.flags|=1,e=wr(h,a),e.ref=t.ref,e.return=t,t.child=e}function Cd(e,t,s,a,d){if(e!==null){var h=e.memoizedProps;if(Yn(h,a)&&e.ref===t.ref)if(et=!1,t.pendingProps=a=h,(e.lanes&d)!==0)(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Gt(e,t,d)}return qa(e,t,s,a,d)}function jd(e,t,s){var a=t.pendingProps,d=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(mn,ht),ht|=s;else{if((s&1073741824)===0)return e=h!==null?h.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(mn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,me(mn,ht),ht|=a}else h!==null?(a=h.baseLanes|s,t.memoizedState=null):a=s,me(mn,ht),ht|=a;return Je(e,t,d,s),t.child}function Rd(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,s,a,d){var h=Ze(s)?Tr:We.current;return h=sn(t,h),dn(t,d),s=$a(e,t,s,a,h,d),a=Ua(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Gt(e,t,d)):(Se&&a&&wa(t),t.flags|=1,Je(e,t,s,d),t.child)}function Pd(e,t,s,a,d){if(Ze(s)){var h=!0;ai(t)}else h=!1;if(dn(t,d),t.stateNode===null)xi(e,t),yd(t,s,a),Va(t,s,a,d),a=!0;else if(e===null){var m=t.stateNode,_=t.memoizedProps;m.props=_;var k=m.context,A=s.contextType;typeof A=="object"&&A!==null?A=vt(A):(A=Ze(s)?Tr:We.current,A=sn(t,A));var D=s.getDerivedStateFromProps,F=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function";F||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==a||k!==A)&&wd(t,m,a,A),hr=!1;var L=t.memoizedState;m.state=L,gi(t,a,m,d),k=t.memoizedState,_!==a||L!==k||Xe.current||hr?(typeof D=="function"&&(za(t,s,D,a),k=t.memoizedState),(_=hr||vd(t,s,_,a,L,k,A))?(F||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),m.props=a,m.state=k,m.context=A,a=_):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,qc(e,t),_=t.memoizedProps,A=t.type===t.elementType?_:xt(t.type,_),m.props=A,F=t.pendingProps,L=m.context,k=s.contextType,typeof k=="object"&&k!==null?k=vt(k):(k=Ze(s)?Tr:We.current,k=sn(t,k));var V=s.getDerivedStateFromProps;(D=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==F||L!==k)&&wd(t,m,a,k),hr=!1,L=t.memoizedState,m.state=L,gi(t,a,m,d);var K=t.memoizedState;_!==F||L!==K||Xe.current||hr?(typeof V=="function"&&(za(t,s,V,a),K=t.memoizedState),(A=hr||vd(t,s,A,a,L,K,k)||!1)?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,K,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,K,k)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=K),m.props=a,m.state=K,m.context=k,a=A):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return Ka(e,t,s,a,h,d)}function Ka(e,t,s,a,d,h){Rd(e,t);var m=(t.flags&128)!==0;if(!a&&!m)return d&&Lc(t,s,!1),Gt(e,t,h);a=t.stateNode,cg.current=t;var _=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&m?(t.child=un(t,e.child,null,h),t.child=un(t,null,_,h)):Je(e,t,_,h),t.memoizedState=a.state,d&&Lc(t,s,!0),t.child}function Od(e){var t=e.stateNode;t.pendingContext?Nc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nc(e,t.context,!1),Pa(e,t.containerInfo)}function Ad(e,t,s,a,d){return ln(),ka(d),t.flags|=256,Je(e,t,s,a),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nd(e,t,s){var a=t.pendingProps,d=be.current,h=!1,m=(t.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),me(be,d&1),e===null)return Sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=a.children,e=a.fallback,h?(a=t.mode,h=t.child,m={mode:"hidden",children:m},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=Ui(m,a,0,null),e=$r(e,a,s,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Ja(s),t.memoizedState=Ga,e):Qa(t,m));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return dg(e,t,m,a,_,d,s);if(h){h=a.fallback,m=t.mode,d=e.child,_=d.sibling;var k={mode:"hidden",children:a.children};return(m&1)===0&&t.child!==d?(a=t.child,a.childLanes=0,a.pendingProps=k,t.deletions=null):(a=wr(d,k),a.subtreeFlags=d.subtreeFlags&14680064),_!==null?h=wr(_,h):(h=$r(h,m,s,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,m=e.child.memoizedState,m=m===null?Ja(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=e.childLanes&~s,t.memoizedState=Ga,a}return h=e.child,e=h.sibling,a=wr(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=s),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a}function Qa(e,t){return t=Ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bi(e,t,s,a){return a!==null&&ka(a),un(t,e.child,null,s),e=Qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dg(e,t,s,a,d,h,m){if(s)return t.flags&256?(t.flags&=-257,a=Wa(Error(n(422))),bi(e,t,m,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,d=t.mode,a=Ui({mode:"visible",children:a.children},d,0,null),h=$r(h,d,m,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&un(t,e.child,null,m),t.child.memoizedState=Ja(m),t.memoizedState=Ga,h);if((t.mode&1)===0)return bi(e,t,m,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var _=a.dgst;return a=_,h=Error(n(419)),a=Wa(h,a,void 0),bi(e,t,m,a)}if(_=(m&e.childLanes)!==0,et||_){if(a=De,a!==null){switch(m&-m){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|m))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,qt(e,d),jt(a,e,d,-1))}return hl(),a=Wa(Error(n(421))),bi(e,t,m,a)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=bg.bind(null,e),d._reactRetry=t,null):(e=h.treeContext,dt=lr(d.nextSibling),ct=t,Se=!0,bt=null,e!==null&&(mt[gt++]=Wt,mt[gt++]=Ht,mt[gt++]=Cr,Wt=e.id,Ht=e.overflow,Cr=t),t=Qa(t,a.children),t.flags|=4096,t)}function Id(e,t,s){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ca(e.return,t,s)}function Ya(e,t,s,a,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:d}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=d)}function Ld(e,t,s){var a=t.pendingProps,d=a.revealOrder,h=a.tail;if(Je(e,t,a.children,s),a=be.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,s,t);else if(e.tag===19)Id(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(me(be,a),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&vi(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),Ya(t,!1,d,s,h);break;case"backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&vi(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Ya(t,!0,s,null,h);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=wr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=wr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function hg(e,t,s){switch(t.tag){case 3:Od(t),ln();break;case 5:Jc(t);break;case 1:Ze(t.type)&&ai(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,d=t.memoizedProps.value;me(fi,a._currentValue),a._currentValue=d;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(me(be,be.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?Nd(e,t,s):(me(be,be.current&1),e=Gt(e,t,s),e!==null?e.sibling:null);me(be,be.current&1);break;case 19:if(a=(s&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Ld(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),me(be,be.current),a)break;return null;case 22:case 23:return t.lanes=0,jd(e,t,s)}return Gt(e,t,s)}var $d,Xa,Ud,Dd;$d=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Xa=function(){},Ud=function(e,t,s,a){var d=e.memoizedProps;if(d!==a){e=t.stateNode,Pr(Dt.current);var h=null;switch(s){case"input":d=Co(e,d),a=Co(e,a),h=[];break;case"select":d=H({},d,{value:void 0}),a=H({},a,{value:void 0}),h=[];break;case"textarea":d=Po(e,d),a=Po(e,a),h=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=si)}Ao(s,a);var m;s=null;for(A in d)if(!a.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var _=d[A];for(m in _)_.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(l.hasOwnProperty(A)?h||(h=[]):(h=h||[]).push(A,null));for(A in a){var k=a[A];if(_=d!=null?d[A]:void 0,a.hasOwnProperty(A)&&k!==_&&(k!=null||_!=null))if(A==="style")if(_){for(m in _)!_.hasOwnProperty(m)||k&&k.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in k)k.hasOwnProperty(m)&&_[m]!==k[m]&&(s||(s={}),s[m]=k[m])}else s||(h||(h=[]),h.push(A,s)),s=k;else A==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,_=_?_.__html:void 0,k!=null&&_!==k&&(h=h||[]).push(A,k)):A==="children"?typeof k!="string"&&typeof k!="number"||(h=h||[]).push(A,""+k):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(l.hasOwnProperty(A)?(k!=null&&A==="onScroll"&&we("scroll",e),h||_===k||(h=[])):(h=h||[]).push(A,k))}s&&(h=h||[]).push("style",s);var A=h;(t.updateQueue=A)&&(t.flags|=4)}},Dd=function(e,t,s,a){s!==a&&(t.flags|=4)};function hs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function fg(e,t,s){var a=t.pendingProps;switch(_a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return Ze(t.type)&&oi(),qe(t),null;case 3:return a=t.stateNode,hn(),_e(Xe),_e(We),Na(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(di(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(ul(bt),bt=null))),Xa(e,t),qe(t),null;case 5:Oa(t);var d=Pr(as.current);if(s=t.type,e!==null&&t.stateNode!=null)Ud(e,t,s,a,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return qe(t),null}if(e=Pr(Dt.current),di(t)){a=t.stateNode,s=t.type;var h=t.memoizedProps;switch(a[Ut]=t,a[rs]=h,e=(t.mode&1)!==0,s){case"dialog":we("cancel",a),we("close",a);break;case"iframe":case"object":case"embed":we("load",a);break;case"video":case"audio":for(d=0;d<Zn.length;d++)we(Zn[d],a);break;case"source":we("error",a);break;case"img":case"image":case"link":we("error",a),we("load",a);break;case"details":we("toggle",a);break;case"input":yu(a,h),we("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},we("invalid",a);break;case"textarea":Eu(a,h),we("invalid",a)}Ao(s,h),d=null;for(var m in h)if(h.hasOwnProperty(m)){var _=h[m];m==="children"?typeof _=="string"?a.textContent!==_&&(h.suppressHydrationWarning!==!0&&ni(a.textContent,_,e),d=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(h.suppressHydrationWarning!==!0&&ni(a.textContent,_,e),d=["children",""+_]):l.hasOwnProperty(m)&&_!=null&&m==="onScroll"&&we("scroll",a)}switch(s){case"input":Is(a),_u(a,h,!0);break;case"textarea":Is(a),ku(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=si)}a=d,t.updateQueue=a,a!==null&&(t.flags|=4)}else{m=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bu(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(s,{is:a.is}):(e=m.createElement(s),s==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,s),e[Ut]=t,e[rs]=a,$d(e,t,!1,!1),t.stateNode=e;e:{switch(m=No(s,a),s){case"dialog":we("cancel",e),we("close",e),d=a;break;case"iframe":case"object":case"embed":we("load",e),d=a;break;case"video":case"audio":for(d=0;d<Zn.length;d++)we(Zn[d],e);d=a;break;case"source":we("error",e),d=a;break;case"img":case"image":case"link":we("error",e),we("load",e),d=a;break;case"details":we("toggle",e),d=a;break;case"input":yu(e,a),d=Co(e,a),we("invalid",e);break;case"option":d=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},d=H({},a,{value:void 0}),we("invalid",e);break;case"textarea":Eu(e,a),d=Po(e,a),we("invalid",e);break;default:d=a}Ao(s,d),_=d;for(h in _)if(_.hasOwnProperty(h)){var k=_[h];h==="style"?Cu(e,k):h==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&xu(e,k)):h==="children"?typeof k=="string"?(s!=="textarea"||k!=="")&&In(e,k):typeof k=="number"&&In(e,""+k):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?k!=null&&h==="onScroll"&&we("scroll",e):k!=null&&O(e,h,k,m))}switch(s){case"input":Is(e),_u(e,a,!1);break;case"textarea":Is(e),ku(e);break;case"option":a.value!=null&&e.setAttribute("value",""+he(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?qr(e,!!a.multiple,h,!1):a.defaultValue!=null&&qr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=si)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Dd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(s=Pr(as.current),Pr(Dt.current),di(t)){if(a=t.stateNode,s=t.memoizedProps,a[Ut]=t,(h=a.nodeValue!==s)&&(e=ct,e!==null))switch(e.tag){case 3:ni(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ni(a.nodeValue,s,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Ut]=t,t.stateNode=a}return qe(t),null;case 13:if(_e(be),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Mc(),ln(),t.flags|=98560,h=!1;else if(h=di(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Ut]=t}else ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),h=!1}else bt!==null&&(ul(bt),bt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?$e===0&&($e=3):hl())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return hn(),Xa(e,t),e===null&&es(t.stateNode.containerInfo),qe(t),null;case 10:return Ta(t.type._context),qe(t),null;case 17:return Ze(t.type)&&oi(),qe(t),null;case 19:if(_e(be),h=t.memoizedState,h===null)return qe(t),null;if(a=(t.flags&128)!==0,m=h.rendering,m===null)if(a)hs(h,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=vi(e),m!==null){for(t.flags|=128,hs(h,!1),a=m.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;s!==null;)h=s,e=a,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,e=m.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return me(be,be.current&1|2),t.child}e=e.sibling}h.tail!==null&&Re()>gn&&(t.flags|=128,a=!0,hs(h,!1),t.lanes=4194304)}else{if(!a)if(e=vi(m),e!==null){if(t.flags|=128,a=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),hs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Se)return qe(t),null}else 2*Re()-h.renderingStartTime>gn&&s!==1073741824&&(t.flags|=128,a=!0,hs(h,!1),t.lanes=4194304);h.isBackwards?(m.sibling=t.child,t.child=m):(s=h.last,s!==null?s.sibling=m:t.child=m,h.last=m)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Re(),t.sibling=null,s=be.current,me(be,a?s&1|2:s&1),t):(qe(t),null);case 22:case 23:return dl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ht&1073741824)!==0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function pg(e,t){switch(_a(t),t.tag){case 1:return Ze(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),_e(Xe),_e(We),Na(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Oa(t),null;case 13:if(_e(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(be),null;case 4:return hn(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return dl(),null;case 24:return null;default:return null}}var Ti=!1,Ke=!1,mg=typeof WeakSet=="function"?WeakSet:Set,W=null;function pn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){je(e,t,a)}else s.current=null}function Za(e,t,s){try{s()}catch(a){je(e,t,a)}}var Fd=!1;function gg(e,t){if(da=qs,e=vc(),na(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var d=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var m=0,_=-1,k=-1,A=0,D=0,F=e,L=null;t:for(;;){for(var V;F!==s||d!==0&&F.nodeType!==3||(_=m+d),F!==h||a!==0&&F.nodeType!==3||(k=m+a),F.nodeType===3&&(m+=F.nodeValue.length),(V=F.firstChild)!==null;)L=F,F=V;for(;;){if(F===e)break t;if(L===s&&++A===d&&(_=m),L===h&&++D===a&&(k=m),(V=F.nextSibling)!==null)break;F=L,L=F.parentNode}F=V}s=_===-1||k===-1?null:{start:_,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(ha={focusedElem:e,selectionRange:s},qs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,Pe=K.memoizedState,R=t.stateNode,b=R.getSnapshotBeforeUpdate(t.elementType===t.type?G:xt(t.type,G),Pe);R.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){je(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return K=Fd,Fd=!1,K}function fs(e,t,s){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Za(t,s,h)}d=d.next}while(d!==a)}}function Ci(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function el(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Bd(e){var t=e.alternate;t!==null&&(e.alternate=null,Bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[rs],delete t[ga],delete t[Xm],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=si));else if(a!==4&&(e=e.child,e!==null))for(tl(e,t,s),e=e.sibling;e!==null;)tl(e,t,s),e=e.sibling}function rl(e,t,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(rl(e,t,s),e=e.sibling;e!==null;)rl(e,t,s),e=e.sibling}var Be=null,Tt=!1;function pr(e,t,s){for(s=s.child;s!==null;)Vd(e,t,s),s=s.sibling}function Vd(e,t,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Bs,s)}catch{}switch(s.tag){case 5:Ke||pn(s,t);case 6:var a=Be,d=Tt;Be=null,pr(e,t,s),Be=a,Tt=d,Be!==null&&(Tt?(e=Be,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Be.removeChild(s.stateNode));break;case 18:Be!==null&&(Tt?(e=Be,s=s.stateNode,e.nodeType===8?ma(e.parentNode,s):e.nodeType===1&&ma(e,s),Hn(e)):ma(Be,s.stateNode));break;case 4:a=Be,d=Tt,Be=s.stateNode.containerInfo,Tt=!0,pr(e,t,s),Be=a,Tt=d;break;case 0:case 11:case 14:case 15:if(!Ke&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var h=d,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&Za(s,t,m),d=d.next}while(d!==a)}pr(e,t,s);break;case 1:if(!Ke&&(pn(s,t),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){je(s,t,_)}pr(e,t,s);break;case 21:pr(e,t,s);break;case 22:s.mode&1?(Ke=(a=Ke)||s.memoizedState!==null,pr(e,t,s),Ke=a):pr(e,t,s);break;default:pr(e,t,s)}}function Wd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new mg),t.forEach(function(a){var d=xg.bind(null,e,a);s.has(a)||(s.add(a),a.then(d,d))})}}function Ct(e,t){var s=t.deletions;if(s!==null)for(var a=0;a<s.length;a++){var d=s[a];try{var h=e,m=t,_=m;e:for(;_!==null;){switch(_.tag){case 5:Be=_.stateNode,Tt=!1;break e;case 3:Be=_.stateNode.containerInfo,Tt=!0;break e;case 4:Be=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(Be===null)throw Error(n(160));Vd(h,m,d),Be=null,Tt=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(A){je(d,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hd(t,e),t=t.sibling}function Hd(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Bt(e),a&4){try{fs(3,e,e.return),Ci(3,e)}catch(G){je(e,e.return,G)}try{fs(5,e,e.return)}catch(G){je(e,e.return,G)}}break;case 1:Ct(t,e),Bt(e),a&512&&s!==null&&pn(s,s.return);break;case 5:if(Ct(t,e),Bt(e),a&512&&s!==null&&pn(s,s.return),e.flags&32){var d=e.stateNode;try{In(d,"")}catch(G){je(e,e.return,G)}}if(a&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,m=s!==null?s.memoizedProps:h,_=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{_==="input"&&h.type==="radio"&&h.name!=null&&wu(d,h),No(_,m);var A=No(_,h);for(m=0;m<k.length;m+=2){var D=k[m],F=k[m+1];D==="style"?Cu(d,F):D==="dangerouslySetInnerHTML"?xu(d,F):D==="children"?In(d,F):O(d,D,F,A)}switch(_){case"input":jo(d,h);break;case"textarea":Su(d,h);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var V=h.value;V!=null?qr(d,!!h.multiple,V,!1):L!==!!h.multiple&&(h.defaultValue!=null?qr(d,!!h.multiple,h.defaultValue,!0):qr(d,!!h.multiple,h.multiple?[]:"",!1))}d[rs]=h}catch(G){je(e,e.return,G)}}break;case 6:if(Ct(t,e),Bt(e),a&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(G){je(e,e.return,G)}}break;case 3:if(Ct(t,e),Bt(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(G){je(e,e.return,G)}break;case 4:Ct(t,e),Bt(e);break;case 13:Ct(t,e),Bt(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(il=Re())),a&4&&Wd(e);break;case 22:if(D=s!==null&&s.memoizedState!==null,e.mode&1?(Ke=(A=Ke)||D,Ct(t,e),Ke=A):Ct(t,e),Bt(e),a&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!D&&(e.mode&1)!==0)for(W=e,D=e.child;D!==null;){for(F=W=D;W!==null;){switch(L=W,V=L.child,L.tag){case 0:case 11:case 14:case 15:fs(4,L,L.return);break;case 1:pn(L,L.return);var K=L.stateNode;if(typeof K.componentWillUnmount=="function"){a=L,s=L.return;try{t=a,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){je(a,s,G)}}break;case 5:pn(L,L.return);break;case 22:if(L.memoizedState!==null){Gd(F);continue}}V!==null?(V.return=L,W=V):Gd(F)}D=D.sibling}e:for(D=null,F=e;;){if(F.tag===5){if(D===null){D=F;try{d=F.stateNode,A?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(_=F.stateNode,k=F.memoizedProps.style,m=k!=null&&k.hasOwnProperty("display")?k.display:null,_.style.display=Tu("display",m))}catch(G){je(e,e.return,G)}}}else if(F.tag===6){if(D===null)try{F.stateNode.nodeValue=A?"":F.memoizedProps}catch(G){je(e,e.return,G)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;D===F&&(D=null),F=F.return}D===F&&(D=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Ct(t,e),Bt(e),a&4&&Wd(e);break;case 21:break;default:Ct(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Md(s)){var a=s;break e}s=s.return}throw Error(n(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(In(d,""),a.flags&=-33);var h=zd(e);rl(e,h,d);break;case 3:case 4:var m=a.stateNode.containerInfo,_=zd(e);tl(e,_,m);break;default:throw Error(n(161))}}catch(k){je(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vg(e,t,s){W=e,qd(e)}function qd(e,t,s){for(var a=(e.mode&1)!==0;W!==null;){var d=W,h=d.child;if(d.tag===22&&a){var m=d.memoizedState!==null||Ti;if(!m){var _=d.alternate,k=_!==null&&_.memoizedState!==null||Ke;_=Ti;var A=Ke;if(Ti=m,(Ke=k)&&!A)for(W=d;W!==null;)m=W,k=m.child,m.tag===22&&m.memoizedState!==null?Jd(d):k!==null?(k.return=m,W=k):Jd(d);for(;h!==null;)W=h,qd(h),h=h.sibling;W=d,Ti=_,Ke=A}Kd(e)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,W=h):Kd(e)}}function Kd(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ke||Ci(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ke)if(s===null)a.componentDidMount();else{var d=t.elementType===t.type?s.memoizedProps:xt(t.type,s.memoizedProps);a.componentDidUpdate(d,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Gc(t,h,a);break;case 3:var m=t.updateQueue;if(m!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Gc(t,m,s)}break;case 5:var _=t.stateNode;if(s===null&&t.flags&4){s=_;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&s.focus();break;case"img":k.src&&(s.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var D=A.memoizedState;if(D!==null){var F=D.dehydrated;F!==null&&Hn(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ke||t.flags&512&&el(t)}catch(L){je(t,t.return,L)}}if(t===e){W=null;break}if(s=t.sibling,s!==null){s.return=t.return,W=s;break}W=t.return}}function Gd(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}function Jd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Ci(4,t)}catch(k){je(t,s,k)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var d=t.return;try{a.componentDidMount()}catch(k){je(t,d,k)}}var h=t.return;try{el(t)}catch(k){je(t,h,k)}break;case 5:var m=t.return;try{el(t)}catch(k){je(t,m,k)}}}catch(k){je(t,t.return,k)}if(t===e){W=null;break}var _=t.sibling;if(_!==null){_.return=t.return,W=_;break}W=t.return}}var yg=Math.ceil,ji=M.ReactCurrentDispatcher,nl=M.ReactCurrentOwner,wt=M.ReactCurrentBatchConfig,le=0,De=null,Oe=null,Me=0,ht=0,mn=ur(0),$e=0,ps=null,Ar=0,Ri=0,sl=0,ms=null,tt=null,il=0,gn=1/0,Jt=null,Pi=!1,ol=null,mr=null,Oi=!1,gr=null,Ai=0,gs=0,al=null,Ni=-1,Ii=0;function Qe(){return(le&6)!==0?Re():Ni!==-1?Ni:Ni=Re()}function vr(e){return(e.mode&1)===0?1:(le&2)!==0&&Me!==0?Me&-Me:tg.transition!==null?(Ii===0&&(Ii=zu()),Ii):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Yu(e.type)),e)}function jt(e,t,s,a){if(50<gs)throw gs=0,al=null,Error(n(185));Bn(e,s,a),((le&2)===0||e!==De)&&(e===De&&((le&2)===0&&(Ri|=s),$e===4&&yr(e,Me)),rt(e,a),s===1&&le===0&&(t.mode&1)===0&&(gn=Re()+500,li&&dr()))}function rt(e,t){var s=e.callbackNode;tm(e,t);var a=Vs(e,e===De?Me:0);if(a===0)s!==null&&Fu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(s!=null&&Fu(s),t===1)e.tag===0?eg(Yd.bind(null,e)):$c(Yd.bind(null,e)),Qm(function(){(le&6)===0&&dr()}),s=null;else{switch(Vu(a)){case 1:s=Bo;break;case 4:s=Bu;break;case 16:s=Fs;break;case 536870912:s=Mu;break;default:s=Fs}s=ih(s,Qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Qd(e,t){if(Ni=-1,Ii=0,(le&6)!==0)throw Error(n(327));var s=e.callbackNode;if(vn()&&e.callbackNode!==s)return null;var a=Vs(e,e===De?Me:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Li(e,a);else{t=a;var d=le;le|=2;var h=Zd();(De!==e||Me!==t)&&(Jt=null,gn=Re()+500,Ir(e,t));do try{Eg();break}catch(_){Xd(e,_)}while(!0);xa(),ji.current=h,le=d,Oe!==null?t=0:(De=null,Me=0,t=$e)}if(t!==0){if(t===2&&(d=Mo(e),d!==0&&(a=d,t=ll(e,d))),t===1)throw s=ps,Ir(e,0),yr(e,a),rt(e,Re()),s;if(t===6)yr(e,a);else{if(d=e.current.alternate,(a&30)===0&&!wg(d)&&(t=Li(e,a),t===2&&(h=Mo(e),h!==0&&(a=h,t=ll(e,h))),t===1))throw s=ps,Ir(e,0),yr(e,a),rt(e,Re()),s;switch(e.finishedWork=d,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:Lr(e,tt,Jt);break;case 3:if(yr(e,a),(a&130023424)===a&&(t=il+500-Re(),10<t)){if(Vs(e,0)!==0)break;if(d=e.suspendedLanes,(d&a)!==a){Qe(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=pa(Lr.bind(null,e,tt,Jt),t);break}Lr(e,tt,Jt);break;case 4:if(yr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,d=-1;0<a;){var m=31-St(a);h=1<<m,m=t[m],m>d&&(d=m),a&=~h}if(a=d,a=Re()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*yg(a/1960))-a,10<a){e.timeoutHandle=pa(Lr.bind(null,e,tt,Jt),a);break}Lr(e,tt,Jt);break;case 5:Lr(e,tt,Jt);break;default:throw Error(n(329))}}}return rt(e,Re()),e.callbackNode===s?Qd.bind(null,e):null}function ll(e,t){var s=ms;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=Li(e,t),e!==2&&(t=tt,tt=s,t!==null&&ul(t)),e}function ul(e){tt===null?tt=e:tt.push.apply(tt,e)}function wg(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var d=s[a],h=d.getSnapshot;d=d.value;try{if(!kt(h(),d))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t){for(t&=~sl,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-St(t),a=1<<s;e[s]=-1,t&=~a}}function Yd(e){if((le&6)!==0)throw Error(n(327));vn();var t=Vs(e,0);if((t&1)===0)return rt(e,Re()),null;var s=Li(e,t);if(e.tag!==0&&s===2){var a=Mo(e);a!==0&&(t=a,s=ll(e,a))}if(s===1)throw s=ps,Ir(e,0),yr(e,t),rt(e,Re()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,tt,Jt),rt(e,Re()),null}function cl(e,t){var s=le;le|=1;try{return e(t)}finally{le=s,le===0&&(gn=Re()+500,li&&dr())}}function Nr(e){gr!==null&&gr.tag===0&&(le&6)===0&&vn();var t=le;le|=1;var s=wt.transition,a=fe;try{if(wt.transition=null,fe=1,e)return e()}finally{fe=a,wt.transition=s,le=t,(le&6)===0&&dr()}}function dl(){ht=mn.current,_e(mn)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Jm(s)),Oe!==null)for(s=Oe.return;s!==null;){var a=s;switch(_a(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&oi();break;case 3:hn(),_e(Xe),_e(We),Na();break;case 5:Oa(a);break;case 4:hn();break;case 13:_e(be);break;case 19:_e(be);break;case 10:Ta(a.type._context);break;case 22:case 23:dl()}s=s.return}if(De=e,Oe=e=wr(e.current,null),Me=ht=t,$e=0,ps=null,sl=Ri=Ar=0,tt=ms=null,Rr!==null){for(t=0;t<Rr.length;t++)if(s=Rr[t],a=s.interleaved,a!==null){s.interleaved=null;var d=a.next,h=s.pending;if(h!==null){var m=h.next;h.next=d,a.next=m}s.pending=a}Rr=null}return e}function Xd(e,t){do{var s=Oe;try{if(xa(),yi.current=Si,wi){for(var a=xe.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}wi=!1}if(Or=0,Ue=Le=xe=null,ls=!1,us=0,nl.current=null,s===null||s.return===null){$e=1,ps=t,Oe=null;break}e:{var h=e,m=s.return,_=s,k=t;if(t=Me,_.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var A=k,D=_,F=D.tag;if((D.mode&1)===0&&(F===0||F===11||F===15)){var L=D.alternate;L?(D.updateQueue=L.updateQueue,D.memoizedState=L.memoizedState,D.lanes=L.lanes):(D.updateQueue=null,D.memoizedState=null)}var V=kd(m);if(V!==null){V.flags&=-257,bd(V,m,_,h,t),V.mode&1&&Sd(h,A,t),t=V,k=A;var K=t.updateQueue;if(K===null){var G=new Set;G.add(k),t.updateQueue=G}else K.add(k);break e}else{if((t&1)===0){Sd(h,A,t),hl();break e}k=Error(n(426))}}else if(Se&&_.mode&1){var Pe=kd(m);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),bd(Pe,m,_,h,t),ka(fn(k,_));break e}}h=k=fn(k,_),$e!==4&&($e=2),ms===null?ms=[h]:ms.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var R=_d(h,k,t);Kc(h,R);break e;case 1:_=k;var b=h.type,P=h.stateNode;if((h.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(mr===null||!mr.has(P)))){h.flags|=65536,t&=-t,h.lanes|=t;var B=Ed(h,_,t);Kc(h,B);break e}}h=h.return}while(h!==null)}th(s)}catch(J){t=J,Oe===s&&s!==null&&(Oe=s=s.return);continue}break}while(!0)}function Zd(){var e=ji.current;return ji.current=Si,e===null?Si:e}function hl(){($e===0||$e===3||$e===2)&&($e=4),De===null||(Ar&268435455)===0&&(Ri&268435455)===0||yr(De,Me)}function Li(e,t){var s=le;le|=2;var a=Zd();(De!==e||Me!==t)&&(Jt=null,Ir(e,t));do try{_g();break}catch(d){Xd(e,d)}while(!0);if(xa(),le=s,ji.current=a,Oe!==null)throw Error(n(261));return De=null,Me=0,$e}function _g(){for(;Oe!==null;)eh(Oe)}function Eg(){for(;Oe!==null&&!qp();)eh(Oe)}function eh(e){var t=sh(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?th(e):Oe=t,nl.current=null}function th(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=fg(s,t,ht),s!==null){Oe=s;return}}else{if(s=pg(s,t),s!==null){s.flags&=32767,Oe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Oe=null;return}}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);$e===0&&($e=5)}function Lr(e,t,s){var a=fe,d=wt.transition;try{wt.transition=null,fe=1,Sg(e,t,s,a)}finally{wt.transition=d,fe=a}return null}function Sg(e,t,s,a){do vn();while(gr!==null);if((le&6)!==0)throw Error(n(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(rm(e,h),e===De&&(Oe=De=null,Me=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Oi||(Oi=!0,ih(Fs,function(){return vn(),null})),h=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||h){h=wt.transition,wt.transition=null;var m=fe;fe=1;var _=le;le|=4,nl.current=null,gg(e,s),Hd(s,e),zm(ha),qs=!!da,ha=da=null,e.current=s,vg(s),Kp(),le=_,fe=m,wt.transition=h}else e.current=s;if(Oi&&(Oi=!1,gr=e,Ai=d),h=e.pendingLanes,h===0&&(mr=null),Qp(s.stateNode),rt(e,Re()),t!==null)for(a=e.onRecoverableError,s=0;s<t.length;s++)d=t[s],a(d.value,{componentStack:d.stack,digest:d.digest});if(Pi)throw Pi=!1,e=ol,ol=null,e;return(Ai&1)!==0&&e.tag!==0&&vn(),h=e.pendingLanes,(h&1)!==0?e===al?gs++:(gs=0,al=e):gs=0,dr(),null}function vn(){if(gr!==null){var e=Vu(Ai),t=wt.transition,s=fe;try{if(wt.transition=null,fe=16>e?16:e,gr===null)var a=!1;else{if(e=gr,gr=null,Ai=0,(le&6)!==0)throw Error(n(331));var d=le;for(le|=4,W=e.current;W!==null;){var h=W,m=h.child;if((W.flags&16)!==0){var _=h.deletions;if(_!==null){for(var k=0;k<_.length;k++){var A=_[k];for(W=A;W!==null;){var D=W;switch(D.tag){case 0:case 11:case 15:fs(8,D,h)}var F=D.child;if(F!==null)F.return=D,W=F;else for(;W!==null;){D=W;var L=D.sibling,V=D.return;if(Bd(D),D===A){W=null;break}if(L!==null){L.return=V,W=L;break}W=V}}}var K=h.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var Pe=G.sibling;G.sibling=null,G=Pe}while(G!==null)}}W=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,W=m;else e:for(;W!==null;){if(h=W,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:fs(9,h,h.return)}var R=h.sibling;if(R!==null){R.return=h.return,W=R;break e}W=h.return}}var b=e.current;for(W=b;W!==null;){m=W;var P=m.child;if((m.subtreeFlags&2064)!==0&&P!==null)P.return=m,W=P;else e:for(m=b;W!==null;){if(_=W,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Ci(9,_)}}catch(J){je(_,_.return,J)}if(_===m){W=null;break e}var B=_.sibling;if(B!==null){B.return=_.return,W=B;break e}W=_.return}}if(le=d,dr(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Bs,e)}catch{}a=!0}return a}finally{fe=s,wt.transition=t}}return!1}function rh(e,t,s){t=fn(s,t),t=_d(e,t,1),e=fr(e,t,1),t=Qe(),e!==null&&(Bn(e,1,t),rt(e,t))}function je(e,t,s){if(e.tag===3)rh(e,e,s);else for(;t!==null;){if(t.tag===3){rh(t,e,s);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(mr===null||!mr.has(a))){e=fn(s,e),e=Ed(t,e,1),t=fr(t,e,1),e=Qe(),t!==null&&(Bn(t,1,e),rt(t,e));break}}t=t.return}}function kg(e,t,s){var a=e.pingCache;a!==null&&a.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&s,De===e&&(Me&s)===s&&($e===4||$e===3&&(Me&130023424)===Me&&500>Re()-il?Ir(e,0):sl|=s),rt(e,t)}function nh(e,t){t===0&&((e.mode&1)===0?t=1:(t=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var s=Qe();e=qt(e,t),e!==null&&(Bn(e,t,s),rt(e,s))}function bg(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),nh(e,s)}function xg(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),nh(e,s)}var sh;sh=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)et=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return et=!1,hg(e,t,s);et=(e.flags&131072)!==0}else et=!1,Se&&(t.flags&1048576)!==0&&Uc(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;xi(e,t),e=t.pendingProps;var d=sn(t,We.current);dn(t,s),d=$a(null,t,a,e,d,s);var h=Ua();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(a)?(h=!0,ai(t)):h=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ra(t),d.updater=ki,t.stateNode=d,d._reactInternals=t,Va(t,a,e,s),t=Ka(null,t,a,!0,h,s)):(t.tag=0,Se&&h&&wa(t),Je(null,t,d,s),t=t.child),t;case 16:a=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,d=a._init,a=d(a._payload),t.type=a,d=t.tag=Cg(a),e=xt(a,e),d){case 0:t=qa(null,t,a,e,s);break e;case 1:t=Pd(null,t,a,e,s);break e;case 11:t=xd(null,t,a,e,s);break e;case 14:t=Td(null,t,a,xt(a.type,e),s);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:xt(a,d),qa(e,t,a,d,s);case 1:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:xt(a,d),Pd(e,t,a,d,s);case 3:e:{if(Od(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,d=h.element,qc(e,t),gi(t,a,null,s);var m=t.memoizedState;if(a=m.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){d=fn(Error(n(423)),t),t=Ad(e,t,a,s,d);break e}else if(a!==d){d=fn(Error(n(424)),t),t=Ad(e,t,a,s,d);break e}else for(dt=lr(t.stateNode.containerInfo.firstChild),ct=t,Se=!0,bt=null,s=Wc(t,null,a,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ln(),a===d){t=Gt(e,t,s);break e}Je(e,t,a,s)}t=t.child}return t;case 5:return Jc(t),e===null&&Sa(t),a=t.type,d=t.pendingProps,h=e!==null?e.memoizedProps:null,m=d.children,fa(a,d)?m=null:h!==null&&fa(a,h)&&(t.flags|=32),Rd(e,t),Je(e,t,m,s),t.child;case 6:return e===null&&Sa(t),null;case 13:return Nd(e,t,s);case 4:return Pa(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=un(t,null,a,s):Je(e,t,a,s),t.child;case 11:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:xt(a,d),xd(e,t,a,d,s);case 7:return Je(e,t,t.pendingProps,s),t.child;case 8:return Je(e,t,t.pendingProps.children,s),t.child;case 12:return Je(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,d=t.pendingProps,h=t.memoizedProps,m=d.value,me(fi,a._currentValue),a._currentValue=m,h!==null)if(kt(h.value,m)){if(h.children===d.children&&!Xe.current){t=Gt(e,t,s);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var _=h.dependencies;if(_!==null){m=h.child;for(var k=_.firstContext;k!==null;){if(k.context===a){if(h.tag===1){k=Kt(-1,s&-s),k.tag=2;var A=h.updateQueue;if(A!==null){A=A.shared;var D=A.pending;D===null?k.next=k:(k.next=D.next,D.next=k),A.pending=k}}h.lanes|=s,k=h.alternate,k!==null&&(k.lanes|=s),Ca(h.return,s,t),_.lanes|=s;break}k=k.next}}else if(h.tag===10)m=h.type===t.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(n(341));m.lanes|=s,_=m.alternate,_!==null&&(_.lanes|=s),Ca(m,s,t),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===t){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}Je(e,t,d.children,s),t=t.child}return t;case 9:return d=t.type,a=t.pendingProps.children,dn(t,s),d=vt(d),a=a(d),t.flags|=1,Je(e,t,a,s),t.child;case 14:return a=t.type,d=xt(a,t.pendingProps),d=xt(a.type,d),Td(e,t,a,d,s);case 15:return Cd(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:xt(a,d),xi(e,t),t.tag=1,Ze(a)?(e=!0,ai(t)):e=!1,dn(t,s),yd(t,a,d),Va(t,a,d,s),Ka(null,t,a,!0,e,s);case 19:return Ld(e,t,s);case 22:return jd(e,t,s)}throw Error(n(156,t.tag))};function ih(e,t){return Du(e,t)}function Tg(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,s,a){return new Tg(e,t,s,a)}function fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cg(e){if(typeof e=="function")return fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ot)return 11;if(e===Lt)return 14}return 2}function wr(e,t){var s=e.alternate;return s===null?(s=_t(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function $i(e,t,s,a,d,h){var m=2;if(a=e,typeof e=="function")fl(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case se:return $r(s.children,d,h,t);case ve:m=8,d|=8;break;case ye:return e=_t(12,s,t,d|2),e.elementType=ye,e.lanes=h,e;case at:return e=_t(13,s,t,d),e.elementType=at,e.lanes=h,e;case Et:return e=_t(19,s,t,d),e.elementType=Et,e.lanes=h,e;case Ce:return Ui(s,d,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ie:m=10;break e;case pt:m=9;break e;case ot:m=11;break e;case Lt:m=14;break e;case Ye:m=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=_t(m,s,t,d),t.elementType=e,t.type=a,t.lanes=h,t}function $r(e,t,s,a){return e=_t(7,e,a,t),e.lanes=s,e}function Ui(e,t,s,a){return e=_t(22,e,a,t),e.elementType=Ce,e.lanes=s,e.stateNode={isHidden:!1},e}function pl(e,t,s){return e=_t(6,e,null,t),e.lanes=s,e}function ml(e,t,s){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jg(e,t,s,a,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gl(e,t,s,a,d,h,m,_,k){return e=new jg(e,t,s,_,k),t===1?(t=1,h===!0&&(t|=8)):t=0,h=_t(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(h),e}function Rg(e,t,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:a==null?null:""+a,children:e,containerInfo:t,implementation:s}}function oh(e){if(!e)return cr;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(Ze(s))return Ic(e,s,t)}return t}function ah(e,t,s,a,d,h,m,_,k){return e=gl(s,a,!0,e,d,h,m,_,k),e.context=oh(null),s=e.current,a=Qe(),d=vr(s),h=Kt(a,d),h.callback=t??null,fr(s,h,d),e.current.lanes=d,Bn(e,d,a),rt(e,a),e}function Di(e,t,s,a){var d=t.current,h=Qe(),m=vr(d);return s=oh(s),t.context===null?t.context=s:t.pendingContext=s,t=Kt(h,m),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=fr(d,t,m),e!==null&&(jt(e,d,m,h),mi(e,d,m)),m}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function vl(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}function Pg(){return null}var uh=typeof reportError=="function"?reportError:function(e){console.error(e)};function yl(e){this._internalRoot=e}Bi.prototype.render=yl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Di(e,t,null,null)},Bi.prototype.unmount=yl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){Di(null,e,null,null)}),t[zt]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ir.length&&t!==0&&t<ir[s].priority;s++);ir.splice(s,0,e),s===0&&Ju(e)}};function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ch(){}function Og(e,t,s,a,d){if(d){if(typeof a=="function"){var h=a;a=function(){var A=Fi(m);h.call(A)}}var m=ah(t,a,e,0,null,!1,!1,"",ch);return e._reactRootContainer=m,e[zt]=m.current,es(e.nodeType===8?e.parentNode:e),Nr(),m}for(;d=e.lastChild;)e.removeChild(d);if(typeof a=="function"){var _=a;a=function(){var A=Fi(k);_.call(A)}}var k=gl(e,0,!1,null,null,!1,!1,"",ch);return e._reactRootContainer=k,e[zt]=k.current,es(e.nodeType===8?e.parentNode:e),Nr(function(){Di(t,k,s,a)}),k}function zi(e,t,s,a,d){var h=s._reactRootContainer;if(h){var m=h;if(typeof d=="function"){var _=d;d=function(){var k=Fi(m);_.call(k)}}Di(t,m,e,d)}else m=Og(s,t,e,d,a);return Fi(m)}Wu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Fn(t.pendingLanes);s!==0&&(Vo(t,s|1),rt(t,Re()),(le&6)===0&&(gn=Re()+500,dr()))}break;case 13:Nr(function(){var a=qt(e,1);if(a!==null){var d=Qe();jt(a,e,1,d)}}),vl(e,1)}},Wo=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var s=Qe();jt(t,e,134217728,s)}vl(e,134217728)}},Hu=function(e){if(e.tag===13){var t=vr(e),s=qt(e,t);if(s!==null){var a=Qe();jt(s,e,t,a)}vl(e,t)}},qu=function(){return fe},Ku=function(e,t){var s=fe;try{return fe=e,t()}finally{fe=s}},$o=function(e,t,s){switch(t){case"input":if(jo(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var d=ii(a);if(!d)throw Error(n(90));vu(a),jo(a,d)}}}break;case"textarea":Su(e,s);break;case"select":t=s.value,t!=null&&qr(e,!!s.multiple,t,!1)}},Ou=cl,Au=Nr;var Ag={usingClientEntryPoint:!1,Events:[ns,rn,ii,Ru,Pu,cl]},vs={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ng={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$u(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||Pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vi.isDisabled&&Vi.supportsFiber)try{Bs=Vi.inject(Ng),$t=Vi}catch{}}return nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag,nt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wl(t))throw Error(n(200));return Rg(e,t,null,s)},nt.createRoot=function(e,t){if(!wl(e))throw Error(n(299));var s=!1,a="",d=uh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=gl(e,1,!1,null,null,s,!1,a,d),e[zt]=t.current,es(e.nodeType===8?e.parentNode:e),new yl(t)},nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=$u(t),e=e===null?null:e.stateNode,e},nt.flushSync=function(e){return Nr(e)},nt.hydrate=function(e,t,s){if(!Mi(t))throw Error(n(200));return zi(null,e,t,!0,s)},nt.hydrateRoot=function(e,t,s){if(!wl(e))throw Error(n(405));var a=s!=null&&s.hydratedSources||null,d=!1,h="",m=uh;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),t=ah(t,null,e,1,s??null,d,!1,h,m),e[zt]=t.current,es(e),a)for(e=0;e<a.length;e++)s=a[e],d=s._getVersion,d=d(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,d]:t.mutableSourceEagerHydrationData.push(s,d);return new Bi(t)},nt.render=function(e,t,s){if(!Mi(t))throw Error(n(200));return zi(null,e,t,!1,s)},nt.unmountComponentAtNode=function(e){if(!Mi(e))throw Error(n(40));return e._reactRootContainer?(Nr(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1},nt.unstable_batchedUpdates=cl,nt.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Mi(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return zi(e,t,s,!1,a)},nt.version="18.3.1-next-f1338f8080-20240426",nt}var yh;function Vg(){if(yh)return Sl.exports;yh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Sl.exports=zg(),Sl.exports}var wh;function Wg(){if(wh)return Wi;wh=1;var i=Vg();return Wi.createRoot=i.createRoot,Wi.hydrateRoot=i.hydrateRoot,Wi}var Hg=Wg();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _h="popstate";function qg(i={}){function r(o,l){let{pathname:u,search:c,hash:f}=o.location;return Ll("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:xs(l)}return Gg(r,n,null,i)}function Te(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function At(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Kg(){return Math.random().toString(36).substring(2,10)}function Eh(i,r){return{usr:i.state,key:i.key,idx:r}}function Ll(i,r,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?Rn(r):r,state:n,key:r&&r.key||o||Kg()}}function xs({pathname:i="/",search:r="",hash:n=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Rn(i){let r={};if(i){let n=i.indexOf("#");n>=0&&(r.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(r.search=i.substring(o),i=i.substring(0,o)),i&&(r.pathname=i)}return r}function Gg(i,r,n,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,c=l.history,f="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function y(){f="POP";let x=v(),I=x==null?null:x-g;g=x,p&&p({action:f,location:C.location,delta:I})}function E(x,I){f="PUSH";let $=Ll(C.location,x,I);g=v()+1;let O=Eh($,g),M=C.createHref($);try{c.pushState(O,"",M)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;l.location.assign(M)}u&&p&&p({action:f,location:C.location,delta:1})}function S(x,I){f="REPLACE";let $=Ll(C.location,x,I);g=v();let O=Eh($,g),M=C.createHref($);c.replaceState(O,"",M),u&&p&&p({action:f,location:C.location,delta:0})}function T(x){return Jg(x)}let C={get action(){return f},get location(){return i(l,c)},listen(x){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(_h,y),p=x,()=>{l.removeEventListener(_h,y),p=null}},createHref(x){return r(l,x)},createURL:T,encodeLocation(x){let I=T(x);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:S,go(x){return c.go(x)}};return C}function Jg(i,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:xs(i);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function rf(i,r,n="/"){return Qg(i,r,n,!1)}function Qg(i,r,n,o){let l=typeof r=="string"?Rn(r):r,u=Zt(l.pathname||"/",n);if(u==null)return null;let c=nf(i);Yg(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let g=lv(u);f=ov(c[p],g,o)}return f}function nf(i,r=[],n=[],o="",l=!1){let u=(c,f,p=l,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(o)&&p)return;Te(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length)}let y=Xt([o,v.relativePath]),E=n.concat(v);c.children&&c.children.length>0&&(Te(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),nf(c.children,r,E,y,p)),!(c.path==null&&!c.index)&&r.push({path:y,score:sv(y,c.index),routesMeta:E})};return i.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,f);else for(let g of sf(c.path))u(c,f,!0,g)}),r}function sf(i){let r=i.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let c=sf(o.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...c),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function Yg(i){i.sort((r,n)=>r.score!==n.score?n.score-r.score:iv(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var Xg=/^:[\w-]+$/,Zg=3,ev=2,tv=1,rv=10,nv=-2,Sh=i=>i==="*";function sv(i,r){let n=i.split("/"),o=n.length;return n.some(Sh)&&(o+=nv),r&&(o+=ev),n.filter(l=>!Sh(l)).reduce((l,u)=>l+(Xg.test(u)?Zg:u===""?tv:rv),o)}function iv(i,r){return i.length===r.length&&i.slice(0,-1).every((o,l)=>o===r[l])?i[i.length-1]-r[r.length-1]:0}function ov(i,r,n=!1){let{routesMeta:o}=i,l={},u="/",c=[];for(let f=0;f<o.length;++f){let p=o[f],g=f===o.length-1,v=u==="/"?r:r.slice(u.length)||"/",y=lo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),E=p.route;if(!y&&g&&n&&!o[o.length-1].route.index&&(y=lo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Xt([u,y.pathname]),pathnameBase:fv(Xt([u,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(u=Xt([u,y.pathnameBase]))}return c}function lo(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=av(i.path,i.caseSensitive,i.end),l=r.match(n);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((g,{paramName:v,isOptional:y},E)=>{if(v==="*"){let T=f[E]||"";c=u.slice(0,u.length-T.length).replace(/(.)\/+$/,"$1")}const S=f[E];return y&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function av(i,r=!1,n=!0){At(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function lv(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return At(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function Zt(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}var uv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cv=i=>uv.test(i);function dv(i,r="/"){let{pathname:n,search:o="",hash:l=""}=typeof i=="string"?Rn(i):i,u;if(n)if(cv(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),At(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=kh(n.substring(1),"/"):u=kh(n,r)}else u=r;return{pathname:u,search:pv(o),hash:mv(l)}}function kh(i,r){let n=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function xl(i,r,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hv(i){return i.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function of(i){let r=hv(i);return r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase)}function af(i,r,n,o=!1){let l;typeof i=="string"?l=Rn(i):(l={...i},Te(!l.pathname||!l.pathname.includes("?"),xl("?","pathname","search",l)),Te(!l.pathname||!l.pathname.includes("#"),xl("#","pathname","hash",l)),Te(!l.search||!l.search.includes("#"),xl("#","search","hash",l)));let u=i===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=n;else{let y=r.length-1;if(!o&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),y-=1;l.pathname=E.join("/")}f=y>=0?r[y]:"/"}let p=dv(l,f),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Xt=i=>i.join("/").replace(/\/\/+/g,"/"),fv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),pv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,mv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function vv(i){return i.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lf=["POST","PUT","PATCH","DELETE"];new Set(lf);var yv=["GET",...lf];new Set(yv);var Pn=N.createContext(null);Pn.displayName="DataRouter";var wo=N.createContext(null);wo.displayName="DataRouterState";N.createContext(!1);var uf=N.createContext({isTransitioning:!1});uf.displayName="ViewTransition";var wv=N.createContext(new Map);wv.displayName="Fetchers";var _v=N.createContext(null);_v.displayName="Await";var It=N.createContext(null);It.displayName="Navigation";var Rs=N.createContext(null);Rs.displayName="Location";var er=N.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var tu=N.createContext(null);tu.displayName="RouteError";function Ev(i,{relative:r}={}){Te(Ps(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=N.useContext(It),{hash:l,pathname:u,search:c}=Os(i,{relative:r}),f=u;return n!=="/"&&(f=u==="/"?n:Xt([n,u])),o.createHref({pathname:f,search:c,hash:l})}function Ps(){return N.useContext(Rs)!=null}function Hr(){return Te(Ps(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Rs).location}var cf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function df(i){N.useContext(It).static||N.useLayoutEffect(i)}function ru(){let{isDataRoute:i}=N.useContext(er);return i?Iv():Sv()}function Sv(){Te(Ps(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(Pn),{basename:r,navigator:n}=N.useContext(It),{matches:o}=N.useContext(er),{pathname:l}=Hr(),u=JSON.stringify(of(o)),c=N.useRef(!1);return df(()=>{c.current=!0}),N.useCallback((p,g={})=>{if(At(c.current,cf),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=af(p,JSON.parse(u),l,g.relative==="path");i==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Xt([r,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[r,n,u,l,i])}N.createContext(null);function Os(i,{relative:r}={}){let{matches:n}=N.useContext(er),{pathname:o}=Hr(),l=JSON.stringify(of(n));return N.useMemo(()=>af(i,JSON.parse(l),o,r==="path"),[i,l,o,r])}function kv(i,r){return hf(i,r)}function hf(i,r,n,o,l){var $;Te(Ps(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(It),{matches:c}=N.useContext(er),f=c[c.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let O=y&&y.path||"";ff(g,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let E=Hr(),S;if(r){let O=typeof r=="string"?Rn(r):r;Te(v==="/"||(($=O.pathname)==null?void 0:$.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${O.pathname}" was given in the \`location\` prop.`),S=O}else S=E;let T=S.pathname||"/",C=T;if(v!=="/"){let O=v.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let x=rf(i,{pathname:C});At(y||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),At(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=jv(x&&x.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:Xt([v,u.encodeLocation?u.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?v:Xt([v,u.encodeLocation?u.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),c,n,o,l);return r&&I?N.createElement(Rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},I):I}function bv(){let i=Nv(),r=gv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),n?N.createElement("pre",{style:l},n):null,c)}var xv=N.createElement(bv,null),Tv=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){this.props.onError?this.props.onError(i,r):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?N.createElement(er.Provider,{value:this.props.routeContext},N.createElement(tu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cv({routeContext:i,match:r,children:n}){let o=N.useContext(Pn);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(er.Provider,{value:i},n)}function jv(i,r=[],n=null,o=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n==null?void 0:n.errors;if(c!=null){let v=u.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Te(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let y=u[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=v),y.route.id){let{loaderData:E,errors:S}=n,T=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||T){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&o?(v,y)=>{var E,S;o(v,{location:n.location,params:((S=(E=n.matches)==null?void 0:E[0])==null?void 0:S.params)??{},unstable_pattern:vv(n.matches),errorInfo:y})}:void 0;return u.reduceRight((v,y,E)=>{let S,T=!1,C=null,x=null;n&&(S=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||xv,f&&(p<0&&E===0?(ff("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):p===E&&(T=!0,x=y.route.hydrateFallbackElement||null)));let I=r.concat(u.slice(0,E+1)),$=()=>{let O;return S?O=C:T?O=x:y.route.Component?O=N.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=v,N.createElement(Cv,{match:y,routeContext:{outlet:v,matches:I,isDataRoute:n!=null},children:O})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?N.createElement(Tv,{location:n.location,revalidation:n.revalidation,component:C,error:S,children:$(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:g}):$()},null)}function nu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rv(i){let r=N.useContext(Pn);return Te(r,nu(i)),r}function Pv(i){let r=N.useContext(wo);return Te(r,nu(i)),r}function Ov(i){let r=N.useContext(er);return Te(r,nu(i)),r}function su(i){let r=Ov(i),n=r.matches[r.matches.length-1];return Te(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Av(){return su("useRouteId")}function Nv(){var o;let i=N.useContext(tu),r=Pv("useRouteError"),n=su("useRouteError");return i!==void 0?i:(o=r.errors)==null?void 0:o[n]}function Iv(){let{router:i}=Rv("useNavigate"),r=su("useNavigate"),n=N.useRef(!1);return df(()=>{n.current=!0}),N.useCallback(async(l,u={})=>{At(n.current,cf),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:r,...u}))},[i,r])}var bh={};function ff(i,r,n){!r&&!bh[i]&&(bh[i]=!0,At(!1,n))}N.memo(Lv);function Lv({routes:i,future:r,state:n,unstable_onError:o}){return hf(i,void 0,n,o,r)}function to(i){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $v({basename:i="/",children:r=null,location:n,navigationType:o="POP",navigator:l,static:u=!1,unstable_useTransitions:c}){Te(!Ps(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:c,future:{}}),[f,l,u,c]);typeof n=="string"&&(n=Rn(n));let{pathname:g="/",search:v="",hash:y="",state:E=null,key:S="default"}=n,T=N.useMemo(()=>{let C=Zt(g,f);return C==null?null:{location:{pathname:C,search:v,hash:y,state:E,key:S},navigationType:o}},[f,g,v,y,E,S,o]);return At(T!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:N.createElement(It.Provider,{value:p},N.createElement(Rs.Provider,{children:r,value:T}))}function Uv({children:i,location:r}){return kv($l(i),r)}function $l(i,r=[]){let n=[];return N.Children.forEach(i,(o,l)=>{if(!N.isValidElement(o))return;let u=[...r,l];if(o.type===N.Fragment){n.push.apply(n,$l(o.props.children,u));return}Te(o.type===to,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=$l(o.props.children,u)),n.push(c)}),n}var ro="get",no="application/x-www-form-urlencoded";function _o(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Dv(i){return _o(i)&&i.tagName.toLowerCase()==="button"}function Fv(i){return _o(i)&&i.tagName.toLowerCase()==="form"}function Bv(i){return _o(i)&&i.tagName.toLowerCase()==="input"}function Mv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function zv(i,r){return i.button===0&&(!r||r==="_self")&&!Mv(i)}var Hi=null;function Vv(){if(Hi===null)try{new FormData(document.createElement("form"),0),Hi=!1}catch{Hi=!0}return Hi}var Wv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tl(i){return i!=null&&!Wv.has(i)?(At(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${no}"`),null):i}function Hv(i,r){let n,o,l,u,c;if(Fv(i)){let f=i.getAttribute("action");o=f?Zt(f,r):null,n=i.getAttribute("method")||ro,l=Tl(i.getAttribute("enctype"))||no,u=new FormData(i)}else if(Dv(i)||Bv(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(o=p?Zt(p,r):null,n=i.getAttribute("formmethod")||f.getAttribute("method")||ro,l=Tl(i.getAttribute("formenctype"))||Tl(f.getAttribute("enctype"))||no,u=new FormData(f,i),!Vv()){let{name:g,type:v,value:y}=i;if(v==="image"){let E=g?`${g}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else g&&u.append(g,y)}}else{if(_o(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ro,o=null,l=no,c=i}return u&&l==="text/plain"&&(c=u,u=void 0),{action:o,method:n.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iu(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function qv(i,r,n){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${n}`:r&&Zt(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function Kv(i,r){if(i.id in r)return r[i.id];try{let n=await import(i.module);return r[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Jv(i,r,n){let o=await Promise.all(i.map(async l=>{let u=r.routes[l.route.id];if(u){let c=await Kv(u,n);return c.links?c.links():[]}return[]}));return Zv(o.flat(1).filter(Gv).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function xh(i,r,n,o,l,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?r.filter((p,g)=>c(p,g)||f(p,g)):u==="data"?r.filter((p,g)=>{var y;let v=o.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Qv(i,r,{includeHydrateFallback:n}={}){return Yv(i.map(o=>{let l=r.routes[o.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Yv(i){return[...new Set(i)]}function Xv(i){let r={},n=Object.keys(i).sort();for(let o of n)r[o]=i[o];return r}function Zv(i,r){let n=new Set;return new Set(r),i.reduce((o,l)=>{let u=JSON.stringify(Xv(l));return n.has(u)||(n.add(u),o.push({key:u,link:l})),o},[])}function pf(){let i=N.useContext(Pn);return iu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ey(){let i=N.useContext(wo);return iu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ou=N.createContext(void 0);ou.displayName="FrameworkContext";function mf(){let i=N.useContext(ou);return iu(i,"You must render this element inside a <HydratedRouter> element"),i}function ty(i,r){let n=N.useContext(ou),[o,l]=N.useState(!1),[u,c]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:y}=r,E=N.useRef(null);N.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let C=I=>{I.forEach($=>{c($.isIntersecting)})},x=new IntersectionObserver(C,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[i]),N.useEffect(()=>{if(o){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[o]);let S=()=>{l(!0)},T=()=>{l(!1),c(!1)};return n?i!=="intent"?[u,E,{}]:[u,E,{onFocus:ws(f,S),onBlur:ws(p,T),onMouseEnter:ws(g,S),onMouseLeave:ws(v,T),onTouchStart:ws(y,S)}]:[!1,E,{}]}function ws(i,r){return n=>{i&&i(n),n.defaultPrevented||r(n)}}function ry({page:i,...r}){let{router:n}=pf(),o=N.useMemo(()=>rf(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?N.createElement(sy,{page:i,matches:o,...r}):null}function ny(i){let{manifest:r,routeModules:n}=mf(),[o,l]=N.useState([]);return N.useEffect(()=>{let u=!1;return Jv(i,r,n).then(c=>{u||l(c)}),()=>{u=!0}},[i,r,n]),o}function sy({page:i,matches:r,...n}){let o=Hr(),{manifest:l,routeModules:u}=mf(),{basename:c}=pf(),{loaderData:f,matches:p}=ey(),g=N.useMemo(()=>xh(i,r,p,l,o,"data"),[i,r,p,l,o]),v=N.useMemo(()=>xh(i,r,p,l,o,"assets"),[i,r,p,l,o]),y=N.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let T=new Set,C=!1;if(r.forEach(I=>{var O;let $=l.routes[I.route.id];!$||!$.hasLoader||(!g.some(M=>M.route.id===I.route.id)&&I.route.id in f&&((O=u[I.route.id])!=null&&O.shouldRevalidate)||$.hasClientLoader?C=!0:T.add(I.route.id))}),T.size===0)return[];let x=qv(i,c,"data");return C&&T.size>0&&x.searchParams.set("_routes",r.filter(I=>T.has(I.route.id)).map(I=>I.route.id).join(",")),[x.pathname+x.search]},[c,f,o,l,g,r,i,u]),E=N.useMemo(()=>Qv(v,l),[v,l]),S=ny(v);return N.createElement(N.Fragment,null,y.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),E.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),S.map(({key:T,link:C})=>N.createElement("link",{key:T,nonce:n.nonce,...C})))}function iy(...i){return r=>{i.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var gf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gf&&(window.__reactRouterVersion="7.10.1")}catch{}function oy({basename:i,children:r,unstable_useTransitions:n,window:o}){let l=N.useRef();l.current==null&&(l.current=qg({window:o,v5Compat:!0}));let u=l.current,[c,f]=N.useState({action:u.action,location:u.location}),p=N.useCallback(g=>{n===!1?f(g):N.startTransition(()=>f(g))},[n]);return N.useLayoutEffect(()=>u.listen(p),[u,p]),N.createElement($v,{basename:i,children:r,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n===!0})}var vf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=N.forwardRef(function({onClick:r,discover:n="render",prefetch:o="none",relative:l,reloadDocument:u,replace:c,state:f,target:p,to:g,preventScrollReset:v,viewTransition:y,...E},S){let{basename:T,unstable_useTransitions:C}=N.useContext(It),x=typeof g=="string"&&vf.test(g),I,$=!1;if(typeof g=="string"&&x&&(I=g,gf))try{let Ie=new URL(window.location.href),pt=g.startsWith("//")?new URL(Ie.protocol+g):new URL(g),ot=Zt(pt.pathname,T);pt.origin===Ie.origin&&ot!=null?g=ot+pt.search+pt.hash:$=!0}catch{At(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Ev(g,{relative:l}),[M,Y,ee]=ty(o,E),se=cy(g,{replace:c,state:f,target:p,preventScrollReset:v,relative:l,viewTransition:y,unstable_useTransitions:C});function ve(Ie){r&&r(Ie),Ie.defaultPrevented||se(Ie)}let ye=N.createElement("a",{...E,...ee,href:I||O,onClick:$||u?r:ve,ref:iy(S,Y),target:p,"data-discover":!x&&n==="render"?"true":void 0});return M&&!x?N.createElement(N.Fragment,null,ye,N.createElement(ry,{page:O})):ye});Tn.displayName="Link";var ay=N.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:f,children:p,...g},v){let y=Os(c,{relative:g.relative}),E=Hr(),S=N.useContext(wo),{navigator:T,basename:C}=N.useContext(It),x=S!=null&&my(y)&&f===!0,I=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,$=E.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||($=$.toLowerCase(),O=O?O.toLowerCase():null,I=I.toLowerCase()),O&&C&&(O=Zt(O,C)||O);const M=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let Y=$===I||!l&&$.startsWith(I)&&$.charAt(M)==="/",ee=O!=null&&(O===I||!l&&O.startsWith(I)&&O.charAt(I.length)==="/"),se={isActive:Y,isPending:ee,isTransitioning:x},ve=Y?r:void 0,ye;typeof o=="function"?ye=o(se):ye=[o,Y?"active":null,ee?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof u=="function"?u(se):u;return N.createElement(Tn,{...g,"aria-current":ve,className:ye,ref:v,style:Ie,to:c,viewTransition:f},typeof p=="function"?p(se):p)});ay.displayName="NavLink";var ly=N.forwardRef(({discover:i="render",fetcherKey:r,navigate:n,reloadDocument:o,replace:l,state:u,method:c=ro,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y,...E},S)=>{let{unstable_useTransitions:T}=N.useContext(It),C=fy(),x=py(f,{relative:g}),I=c.toLowerCase()==="get"?"get":"post",$=typeof f=="string"&&vf.test(f),O=M=>{if(p&&p(M),M.defaultPrevented)return;M.preventDefault();let Y=M.nativeEvent.submitter,ee=(Y==null?void 0:Y.getAttribute("formmethod"))||c,se=()=>C(Y||M.currentTarget,{fetcherKey:r,method:ee,navigate:n,replace:l,state:u,relative:g,preventScrollReset:v,viewTransition:y});T&&n!==!1?N.startTransition(()=>se()):se()};return N.createElement("form",{ref:S,method:I,action:x,onSubmit:o?p:O,...E,"data-discover":!$&&i==="render"?"true":void 0})});ly.displayName="Form";function uy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yf(i){let r=N.useContext(Pn);return Te(r,uy(i)),r}function cy(i,{target:r,replace:n,state:o,preventScrollReset:l,relative:u,viewTransition:c,unstable_useTransitions:f}={}){let p=ru(),g=Hr(),v=Os(i,{relative:u});return N.useCallback(y=>{if(zv(y,r)){y.preventDefault();let E=n!==void 0?n:xs(g)===xs(v),S=()=>p(i,{replace:E,state:o,preventScrollReset:l,relative:u,viewTransition:c});f?N.startTransition(()=>S()):S()}},[g,p,v,n,o,r,i,l,u,c,f])}var dy=0,hy=()=>`__${String(++dy)}__`;function fy(){let{router:i}=yf("useSubmit"),{basename:r}=N.useContext(It),n=Av(),o=i.fetch,l=i.navigate;return N.useCallback(async(u,c={})=>{let{action:f,method:p,encType:g,formData:v,body:y}=Hv(u,r);if(c.navigate===!1){let E=c.fetcherKey||hy();await o(E,n,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await l(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[o,l,r,n])}function py(i,{relative:r}={}){let{basename:n}=N.useContext(It),o=N.useContext(er);Te(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...Os(i||".",{relative:r})},c=Hr();if(i==null){u.search=c.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xt([n,u.pathname])),xs(u)}function my(i,{relative:r}={}){let n=N.useContext(uf);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=yf("useViewTransitionState"),l=Os(i,{relative:r});if(!n.isTransitioning)return!1;let u=Zt(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=Zt(n.nextLocation.pathname,o)||n.nextLocation.pathname;return lo(l.pathname,c)!=null||lo(l.pathname,u)!=null}const Ss={no:{devBanner:'<i class="fa-solid fa-triangle-exclamation"></i> Denne nettsiden er under utvikling',skipToContent:"Hopp til innhold",projects:"Prosjekter",experience:"Erfaring",skills:"Ferdigheter",about:"Om meg",contact:"Kontakt",login:"Logg inn",logout:"Logg ut",sendMessage:"Send melding",contactInfo:"Kontaktinformasjon",footer:" {year} Anders Garberg. Alle rettigheter reservert.",degreeProgram:"Automatisering og intelligente systemer @ NTNU  Trondheim",greeting:"Hei, jeg er",seeProjects:"Se prosjekter",getInTouch:"Ta kontakt",controlSystems:"Reguleringsteknikk",modeling:"Modellering",physics:"Fysikk",openToInternships:"pen for sommerjobb  2026",heroDescription:"Nysgjerrig automatiseringsstudent med lidenskap for autonomi, navigasjon og regulering. Sker sommerjobb der jeg kan bidra til  utvikle robuste, intelligente systemer, og lre av ekte ingenirutfordringer underveis.",downloadCV:"Last ned CV",emailMe:"Send meg en e-post",aboutText1:"Bachelorstudent i Automatisering og intelligente systemer ved NTNU, med interesse for robotikk, autonomi og reguleringsteknikk. Jeg har erfaring med simulering og utvikling av styringssystemer, og har samtidig opparbeidet meg god ledererfaring som skiftleder i et dynamisk arbeidsmilj. P fritiden engasjerer jeg meg i studentfrivilligheten og trives godt i sosiale settinger. Jeg liker ogs  utforske egne prosjekter, blant annet innen smarthus og home-lab, sm kodeprosjekter, 3D-printing og programmering av mikrokontrollere som ESP-familien.",highlights:"Hydepunkter",highlight1:"Praktisk erfaring med sensorer (IMU, ToF, enkodere) og sanntidskrav.",highlight2:"Komfortabel med  g fra simulering til maskinvare.",highlight3:"Nysgjerrig, plitelig og sikkerhetsbevisst.",letsStartSomething:"La oss starte noe bra",contactDesc:"Send meg en e-post direkte eller bruk skjemaet. Jeg er pen for sommerjobb, prosjekter og samarbeid.",name:"Navn",email:"E-post",message:"Melding",formNote:"Dette skjemaet pner e-postprogrammet ditt med en forhndsutfylt melding.",send:"Send",metaDescription:"Portfolio og kontaktside for student i Automatisering og intelligente systemer (NTNU). Prosjekter, erfaring og mter  ta kontakt p.",metaTitle:"Anders Garberg  Automatisering og intelligente systemer",cv:"content/CV_no.pdf",password:"Passord",loginError:"Feil e-post eller passord",loggingIn:"Logger inn...",backToHome:"Tilbake til forsiden",adminDashboard:"Admin Dashboard",loading:"Laster...",totalVisits:"Totalt antall besk",totalContacts:"Kontaktforesprsler",cvDownloads:"CV-nedlastinger",statsError:"Kunne ikke laste statistikk",loggedInAs:"Logget inn som"},en:{devBanner:'<i class="fa-solid fa-triangle-exclamation"></i> This website is under development',skipToContent:"Skip to content",projects:"Projects",experience:"Experience",skills:"Skills",about:"About",contact:"Contact",login:"Login",logout:"Logout",sendMessage:"Send a message",contactInfo:"Contact Information",footer:" {year} Anders Garberg. All rights reserved.",degreeProgram:"Automation & Intelligent Systems @ NTNU  Trondheim",greeting:"Hi, I'm",seeProjects:"See projects",getInTouch:"Get in touch",controlSystems:"Control systems",modeling:"Modeling",physics:"Physics",openToInternships:"Open to Internships  2026",heroDescription:"Curious automation student passionate about autonomy, navigation, and control. Looking for a summer internship where I can contribute to developing resilient, intelligent systems, and learn from real engineering challenges along the way.",downloadCV:"Download CV",emailMe:"Email me",aboutText1:"Bachelor student in Automation and Intelligent Systems at NTNU, specializing in robotics, autonomy and control theory. I have experience with simulation and development of control systems, complemented by leadership experience as a shift leader in a dynamic work environment. In my free time, I am involved in student organizations and enjoy being social and engaged. I also spend time on personal projects such as building a home-lab and smart home setup, various coding projects, 3D printing and programming microcontrollers like the ESP family.",highlights:"Highlights",highlight1:"Hands-on with sensors (IMU, ToF, encoders) and real-time constraints.",highlight2:"Comfortable moving from simulation to hardware bring-up.",highlight3:"Curious, reliable, and safety-minded.",letsStartSomething:"Let's start something great",contactDesc:"Email me directly or use the form. I'm open to internships, projects, and collaborations.",name:"Name",email:"Email",message:"Message",formNote:"This form opens your email app with a prefilled message.",send:"Send",metaDescription:"Portfolio and contact page for a student in Automation & Intelligent Systems (NTNU). Projects, experience, and ways to get in touch.",metaTitle:"Anders Garberg  Automation & Intelligent Systems",cv:"content/CV_en.pdf",password:"Password",loginError:"Invalid email or password",loggingIn:"Logging in...",backToHome:"Back to home",adminDashboard:"Admin Dashboard",loading:"Loading...",totalVisits:"Total Visits",totalContacts:"Contact Requests",cvDownloads:"CV Downloads",statsError:"Failed to load statistics",loggedInAs:"Logged in as"}},wf=N.createContext(null);function gy(){const r=new URLSearchParams(window.location.search).get("lang");return r==="en"||r==="no"?r:r==="nb"?"no":null}function vy(i){const r=new URL(window.location.href);r.searchParams.set("lang",i),window.history.replaceState({},"",r)}function yy({children:i}){const[r,n]=N.useState(()=>gy()||localStorage.getItem("language")||"no"),o=c=>{n(c),localStorage.setItem("language",c),document.documentElement.lang=c,vy(c);const f=document.querySelector('meta[name="description"]');f&&f.setAttribute("content",Ss[c].metaDescription),document.title=Ss[c].metaTitle},l=c=>Ss[r][c]||Ss.en[c]||c,u=()=>{o(r==="no"?"en":"no")};return N.useEffect(()=>{document.documentElement.lang=r},[r]),w.jsx(wf.Provider,{value:{lang:r,setLang:o,t:l,toggleLanguage:u},children:i})}function Nt(){const i=N.useContext(wf);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i}const _f=N.createContext(null);function wy(){const r=new URLSearchParams(window.location.search).get("theme");return r==="light"||r==="dark"?r:null}function _y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ey({children:i}){const[r,n]=N.useState(()=>wy()||localStorage.getItem("theme")||_y()),o=u=>{n(u),localStorage.setItem("theme",u);const c=document.documentElement;c.setAttribute("data-theme",u),u==="light"?c.classList.add("light"):c.classList.remove("light");const f=new URLSearchParams(window.location.search);f.set("theme",u),window.history.replaceState({},"",`${window.location.pathname}?${f}`)},l=()=>{o(r==="dark"?"light":"dark")};return N.useEffect(()=>{const u=document.documentElement;u.setAttribute("data-theme",r),r==="light"?u.classList.add("light"):u.classList.remove("light")},[r]),w.jsx(_f.Provider,{value:{theme:r,setTheme:o,toggleTheme:l},children:i})}function Eo(){const i=N.useContext(_f);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}var Qt={},qi={},Ul=function(i,r){return Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])},Ul(i,r)};function Ef(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Ul(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var uo=function(){return uo=Object.assign||function(r){for(var n,o=1,l=arguments.length;o<l;o++){n=arguments[o];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},uo.apply(this,arguments)};function On(i,r){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(n[o[l]]=i[o[l]]);return n}function Sf(i,r,n,o){var l=arguments.length,u=l<3?r:o===null?o=Object.getOwnPropertyDescriptor(r,n):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,r,n,o);else for(var f=i.length-1;f>=0;f--)(c=i[f])&&(u=(l<3?c(u):l>3?c(r,n,u):c(r,n))||u);return l>3&&u&&Object.defineProperty(r,n,u),u}function kf(i,r){return function(n,o){r(n,o,i)}}function bf(i,r,n,o,l,u){function c(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var f=o.kind,p=f==="getter"?"get":f==="setter"?"set":"value",g=!r&&i?o.static?i:i.prototype:null,v=r||(g?Object.getOwnPropertyDescriptor(g,o.name):{}),y,E=!1,S=n.length-1;S>=0;S--){var T={};for(var C in o)T[C]=C==="access"?{}:o[C];for(var C in o.access)T.access[C]=o.access[C];T.addInitializer=function(I){if(E)throw new TypeError("Cannot add initializers after decoration has completed");u.push(c(I||null))};var x=(0,n[S])(f==="accessor"?{get:v.get,set:v.set}:v[p],T);if(f==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(y=c(x.get))&&(v.get=y),(y=c(x.set))&&(v.set=y),(y=c(x.init))&&l.unshift(y)}else(y=c(x))&&(f==="field"?l.unshift(y):v[p]=y)}g&&Object.defineProperty(g,o.name,v),E=!0}function xf(i,r,n){for(var o=arguments.length>2,l=0;l<r.length;l++)n=o?r[l].call(i,n):r[l].call(i);return o?n:void 0}function Tf(i){return typeof i=="symbol"?i:"".concat(i)}function Cf(i,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function jf(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function q(i,r,n,o){function l(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function f(v){try{g(o.next(v))}catch(y){c(y)}}function p(v){try{g(o.throw(v))}catch(y){c(y)}}function g(v){v.done?u(v.value):l(v.value).then(f,p)}g((o=o.apply(i,r||[])).next())})}function Rf(i,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,l,u,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(v){return p([g,v])}}function p(g){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(o=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,l=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(i,n)}catch(v){g=[6,v],l=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var So=Object.create?(function(i,r,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(r,n);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(i,o,l)}):(function(i,r,n,o){o===void 0&&(o=n),i[o]=r[n]});function Pf(i,r){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&So(r,i,n)}function co(i){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&i[r],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function au(i,r){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),l,u=[],c;try{for(;(r===void 0||r-- >0)&&!(l=o.next()).done;)u.push(l.value)}catch(f){c={error:f}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return u}function Of(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(au(arguments[r]));return i}function Af(){for(var i=0,r=0,n=arguments.length;r<n;r++)i+=arguments[r].length;for(var o=Array(i),l=0,r=0;r<n;r++)for(var u=arguments[r],c=0,f=u.length;c<f;c++,l++)o[l]=u[c];return o}function Nf(i,r,n){if(n||arguments.length===2)for(var o=0,l=r.length,u;o<l;o++)(u||!(o in r))&&(u||(u=Array.prototype.slice.call(r,0,o)),u[o]=r[o]);return i.concat(u||Array.prototype.slice.call(r))}function Cn(i){return this instanceof Cn?(this.v=i,this):new Cn(i)}function If(i,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),l[Symbol.asyncIterator]=function(){return this},l;function c(S){return function(T){return Promise.resolve(T).then(S,y)}}function f(S,T){o[S]&&(l[S]=function(C){return new Promise(function(x,I){u.push([S,C,x,I])>1||p(S,C)})},T&&(l[S]=T(l[S])))}function p(S,T){try{g(o[S](T))}catch(C){E(u[0][3],C)}}function g(S){S.value instanceof Cn?Promise.resolve(S.value.v).then(v,y):E(u[0][2],S)}function v(S){p("next",S)}function y(S){p("throw",S)}function E(S,T){S(T),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Lf(i){var r,n;return r={},o("next"),o("throw",function(l){throw l}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(l,u){r[l]=i[l]?function(c){return(n=!n)?{value:Cn(i[l](c)),done:!1}:u?u(c):c}:u}}function $f(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],n;return r?r.call(i):(i=typeof co=="function"?co(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=i[u]&&function(c){return new Promise(function(f,p){c=i[u](c),l(f,p,c.done,c.value)})}}function l(u,c,f,p){Promise.resolve(p).then(function(g){u({value:g,done:f})},c)}}function Uf(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}var Sy=Object.create?(function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}):function(i,r){i.default=r},Dl=function(i){return Dl=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},Dl(i)};function Df(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var n=Dl(i),o=0;o<n.length;o++)n[o]!=="default"&&So(r,i,n[o]);return Sy(r,i),r}function Ff(i){return i&&i.__esModule?i:{default:i}}function Bf(i,r,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?i!==r||!o:!r.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:r.get(i)}function Mf(i,r,n,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?i!==r||!l:!r.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(i,n):l?l.value=n:r.set(i,n),n}function zf(i,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?r===i:i.has(r)}function Vf(i,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var o,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(l=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");l&&(o=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),i.stack.push({value:r,dispose:o,async:n})}else n&&i.stack.push({async:!0});return r}var ky=typeof SuppressedError=="function"?SuppressedError:function(i,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=r,o};function Wf(i){function r(u){i.error=i.hasError?new ky(u,i.error,"An error was suppressed during disposal."):u,i.hasError=!0}var n,o=0;function l(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(l);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(u).then(l,function(c){return r(c),l()})}else o|=1}catch(c){r(c)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function Hf(i,r){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,l,u,c){return o?r?".jsx":".js":l&&(!u||!c)?n:l+u+"."+c.toLowerCase()+"js"}):i}const by={__extends:Ef,__assign:uo,__rest:On,__decorate:Sf,__param:kf,__esDecorate:bf,__runInitializers:xf,__propKey:Tf,__setFunctionName:Cf,__metadata:jf,__awaiter:q,__generator:Rf,__createBinding:So,__exportStar:Pf,__values:co,__read:au,__spread:Of,__spreadArrays:Af,__spreadArray:Nf,__await:Cn,__asyncGenerator:If,__asyncDelegator:Lf,__asyncValues:$f,__makeTemplateObject:Uf,__importStar:Df,__importDefault:Ff,__classPrivateFieldGet:Bf,__classPrivateFieldSet:Mf,__classPrivateFieldIn:zf,__addDisposableResource:Vf,__disposeResources:Wf,__rewriteRelativeImportExtension:Hf},xy=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Vf,get __assign(){return uo},__asyncDelegator:Lf,__asyncGenerator:If,__asyncValues:$f,__await:Cn,__awaiter:q,__classPrivateFieldGet:Bf,__classPrivateFieldIn:zf,__classPrivateFieldSet:Mf,__createBinding:So,__decorate:Sf,__disposeResources:Wf,__esDecorate:bf,__exportStar:Pf,__extends:Ef,__generator:Rf,__importDefault:Ff,__importStar:Df,__makeTemplateObject:Uf,__metadata:jf,__param:kf,__propKey:Tf,__read:au,__rest:On,__rewriteRelativeImportExtension:Hf,__runInitializers:xf,__setFunctionName:Cf,__spread:Of,__spreadArray:Nf,__spreadArrays:Af,__values:co,default:by},Symbol.toStringTag,{value:"Module"})),Ty=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);let ko=class extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}},qf=class extends ko{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},Fl=class extends ko{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},Bl=class extends ko{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var ho;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(ho||(ho={}));class Cy{constructor(r,{headers:n={},customFetch:o,region:l=ho.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Ty(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return q(this,arguments,void 0,function*(n,o={}){var l;let u,c;try{const{headers:f,method:p,body:g,signal:v,timeout:y}=o;let E={},{region:S}=o;S||(S=this.region);const T=new URL(`${this.url}/${n}`);S&&S!=="any"&&(E["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let C;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",C=g):typeof g=="string"?(E["Content-Type"]="text/plain",C=g):typeof FormData<"u"&&g instanceof FormData?C=g:(E["Content-Type"]="application/json",C=JSON.stringify(g)):C=g;let x=v;y&&(c=new AbortController,u=setTimeout(()=>c.abort(),y),v?(x=c.signal,v.addEventListener("abort",()=>c.abort())):x=c.signal);const I=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),f),body:C,signal:x}).catch(Y=>{throw new qf(Y)}),$=I.headers.get("x-relay-error");if($&&$==="true")throw new Fl(I);if(!I.ok)throw new Bl(I);let O=((l=I.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield I.json():O==="application/octet-stream"||O==="application/pdf"?M=yield I.blob():O==="text/event-stream"?M=I:O==="multipart/form-data"?M=yield I.formData():M=yield I.text(),{data:M,error:null,response:I}}catch(f){return{data:null,error:f,response:f instanceof Bl||f instanceof Fl?f.context:void 0}}finally{u&&clearTimeout(u)}})}}const jy=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ho},FunctionsClient:Cy,FunctionsError:ko,FunctionsFetchError:qf,FunctionsHttpError:Bl,FunctionsRelayError:Fl},Symbol.toStringTag,{value:"Module"})),Kf=js(jy);var Ge={};const An=js(xy);var Ki={},Gi={},Ji={},Qi={},Yi={},Xi={},Th;function Gf(){if(Th)return Xi;Th=1,Object.defineProperty(Xi,"__esModule",{value:!0});class i extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Xi.default=i,Xi}var Ch;function Jf(){if(Ch)return Yi;Ch=1,Object.defineProperty(Yi,"__esModule",{value:!0});const r=An.__importDefault(Gf());let n=class{constructor(l){var u,c;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(c=l.isMaybeSingle)!==null&&c!==void 0?c:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,y,E;let S=null,T=null,C=null,x=p.status,I=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Y=await p.text();Y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?T=Y:T=JSON.parse(Y))}const O=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");O&&M&&M.length>1&&(C=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(S={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,C=null,x=406,I="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const O=await p.text();try{S=JSON.parse(O),Array.isArray(S)&&p.status===404&&(T=[],S=null,x=200,I="OK")}catch{p.status===404&&O===""?(x=204,I="No Content"):S={message:O}}if(S&&this.isMaybeSingle&&(!((E=S==null?void 0:S.details)===null||E===void 0)&&E.includes("0 rows"))&&(S=null,x=200,I="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:T,count:C,status:x,statusText:I}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,v,y,E,S,T;let C="";const x=p==null?void 0:p.cause;if(x){const I=(g=x==null?void 0:x.message)!==null&&g!==void 0?g:"",$=(v=x==null?void 0:x.code)!==null&&v!==void 0?v:"";C=`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,C+=`

Caused by: ${(E=x==null?void 0:x.name)!==null&&E!==void 0?E:"Error"}: ${I}`,$&&(C+=` (${$})`),x!=null&&x.stack&&(C+=`
${x.stack}`)}else C=(S=p==null?void 0:p.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(T=p==null?void 0:p.name)!==null&&T!==void 0?T:"FetchError"}: ${p==null?void 0:p.message}`,details:C,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}};return Yi.default=n,Yi}var jh;function Qf(){if(jh)return Qi;jh=1,Object.defineProperty(Qi,"__esModule",{value:!0});const r=An.__importDefault(Jf());let n=class extends r.default{select(l){let u=!1;const c=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${l}.${u?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:c=u}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(g,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var v;const y=[l?"analyze":null,u?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),E=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${E}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return Qi.default=n,Qi}var Rh;function lu(){if(Rh)return Ji;Rh=1,Object.defineProperty(Ji,"__esModule",{value:!0});const r=An.__importDefault(Qf()),n=new RegExp("[,()]");let o=class extends r.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}regexMatch(u,c){return this.url.searchParams.append(u,`match.${c}`),this}regexIMatch(u,c){return this.url.searchParams.append(u,`imatch.${c}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}isDistinct(u,c){return this.url.searchParams.append(u,`isdistinct.${c}`),this}in(u,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${g}fts${v}.${c}`),this}match(u){return Object.entries(u).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(u,c,f){return this.url.searchParams.append(u,`not.${c}.${f}`),this}or(u,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,c,f){return this.url.searchParams.append(u,`${c}.${f}`),this}};return Ji.default=o,Ji}var Ph;function Yf(){if(Ph)return Gi;Ph=1,Object.defineProperty(Gi,"__esModule",{value:!0});const r=An.__importDefault(lu());let n=class{constructor(l,{headers:u={},schema:c,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=c,this.fetch=f}select(l,u){const{head:c=!1,count:f}=u??{},p=c?"HEAD":"GET";let g=!1;const v=(l??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:c=!0}={}){var f;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const g=l.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((E,S)=>E.concat(Object.keys(S)),[]);if(y.length>0){const E=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(l,{count:u}={}){var c;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:l}={}){var u;const c="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Gi.default=n,Gi}var Oh;function Ry(){if(Oh)return Ki;Oh=1,Object.defineProperty(Ki,"__esModule",{value:!0});const i=An,r=i.__importDefault(Yf()),n=i.__importDefault(lu());let o=class Xf{constructor(u,{headers:c={},schema:f,fetch:p}={}){this.url=u,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${u}`);return new r.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new Xf(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,c={},{head:f=!1,get:p=!1,count:g}={}){var v;let y;const E=new URL(`${this.url}/rpc/${u}`);let S;f||p?(y=f?"HEAD":"GET",Object.entries(c).filter(([C,x])=>x!==void 0).map(([C,x])=>[C,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([C,x])=>{E.searchParams.append(C,x)})):(y="POST",S=c);const T=new Headers(this.headers);return g&&T.set("Prefer",`count=${g}`),new n.default({method:y,url:E,headers:T,schema:this.schemaName,body:S,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Ki.default=o,Ki}var Ah;function Zf(){if(Ah)return Ge;Ah=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.PostgrestError=Ge.PostgrestBuilder=Ge.PostgrestTransformBuilder=Ge.PostgrestFilterBuilder=Ge.PostgrestQueryBuilder=Ge.PostgrestClient=void 0;const i=An,r=i.__importDefault(Ry());Ge.PostgrestClient=r.default;const n=i.__importDefault(Yf());Ge.PostgrestQueryBuilder=n.default;const o=i.__importDefault(lu());Ge.PostgrestFilterBuilder=o.default;const l=i.__importDefault(Qf());Ge.PostgrestTransformBuilder=l.default;const u=i.__importDefault(Jf());Ge.PostgrestBuilder=u.default;const c=i.__importDefault(Gf());return Ge.PostgrestError=c.default,Ge.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:c.default},Ge}class ep{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Py="2.86.2",Oy=`realtime-js/${Py}`,tp="1.0.0",Ay="2.0.0",Nh=tp,Ml=1e4,Ny=1e3,Iy=100;var zr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(zr||(zr={}));var Ae;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ae||(Ae={}));var Ot;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ot||(Ot={}));var zl;(function(i){i.websocket="websocket"})(zl||(zl={}));var Vr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Vr||(Vr={}));class Ly{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(r,n,o){var l,u;const c=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",p=(u=r.join_ref)!==null&&u!==void 0?u:"",g=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+g.length+y.length,S=new ArrayBuffer(this.HEADER_LENGTH+E);let T=new DataView(S),C=0;T.setUint8(C++,this.KINDS.userBroadcastPush),T.setUint8(C++,p.length),T.setUint8(C++,f.length),T.setUint8(C++,c.length),T.setUint8(C++,g.length),T.setUint8(C++,y.length),T.setUint8(C++,n),Array.from(p,I=>T.setUint8(C++,I.charCodeAt(0))),Array.from(f,I=>T.setUint8(C++,I.charCodeAt(0))),Array.from(c,I=>T.setUint8(C++,I.charCodeAt(0))),Array.from(g,I=>T.setUint8(C++,I.charCodeAt(0))),Array.from(y,I=>T.setUint8(C++,I.charCodeAt(0)));var x=new Uint8Array(S.byteLength+o.byteLength);return x.set(new Uint8Array(S),0),x.set(new Uint8Array(o),S.byteLength),x.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,u,c,f,p]=o;return n({join_ref:l,ref:u,topic:c,event:f,payload:p})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),u=n.getUint8(2),c=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=o.decode(r.slice(p,p+l));p=p+l;const v=o.decode(r.slice(p,p+u));p=p+u;const y=o.decode(r.slice(p,p+c));p=p+c;const E=r.slice(p,r.byteLength),S=f===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,T={type:this.BROADCAST_EVENT,event:v,payload:S};return c>0&&(T.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class rp{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ge||(ge={}));const Ih=(i,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((u,c)=>(u[c]=$y(c,i,r,l),u),{}):{}},$y=(i,r,n,o)=>{const l=r.find(f=>f.name===i),u=l==null?void 0:l.type,c=n[i];return u&&!o.includes(u)?np(u,c):Vl(c)},np=(i,r)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return By(r,n)}switch(i){case ge.bool:return Uy(r);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return Dy(r);case ge.json:case ge.jsonb:return Fy(r);case ge.timestamp:return My(r);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Vl(r);default:return Vl(r)}},Vl=i=>i,Uy=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Dy=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Fy=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(r){return console.log(`JSON parse error: ${r}`),i}return i},By=(i,r)=>{if(typeof i!="string")return i;const n=i.length-1,o=i[n];if(i[0]==="{"&&o==="}"){let u;const c=i.slice(1,n);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>np(r,f))}return i},My=i=>typeof i=="string"?i.replace(" ","T"):i,sp=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Cl{constructor(r,n,o={},l=Ml){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Wl;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Wl||(Wl={}));let ip=class so{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=so.syncState(this.state,l,u,c),this.pendingDiffs.forEach(p=>{this.state=so.syncDiff(this.state,p,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=so.syncDiff(this.state,l,u,c),f())}),this.onJoin((l,u,c)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:c})}),this.onLeave((l,u,c)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const u=this.cloneDeep(r),c=this.transformState(n),f={},p={};return this.map(u,(g,v)=>{c[g]||(p[g]=v)}),this.map(c,(g,v)=>{const y=u[g];if(y){const E=v.map(x=>x.presence_ref),S=y.map(x=>x.presence_ref),T=v.filter(x=>S.indexOf(x.presence_ref)<0),C=y.filter(x=>E.indexOf(x.presence_ref)<0);T.length>0&&(f[g]=T),C.length>0&&(p[g]=C)}else f[g]=v}),this.syncDiff(u,{joins:f,leaves:p},o,l)}static syncDiff(r,n,o,l){const{joins:u,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var g;const v=(g=r[f])!==null&&g!==void 0?g:[];if(r[f]=this.cloneDeep(p),v.length>0){const y=r[f].map(S=>S.presence_ref),E=v.filter(S=>y.indexOf(S.presence_ref)<0);r[f].unshift(...E)}o(f,v,p)}),this.map(c,(f,p)=>{let g=r[f];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),r[f]=g,l(f,g,p),g.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Hl;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Hl||(Hl={}));var bn;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(bn||(bn={}));var Mt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));const zy=Ae;let op=class ap{constructor(r,n={config:{}},o){var l,u;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cl(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new rp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new ip(this),this.broadcastEndpointURL=sp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,g=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(S=>S.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[bn.PRESENCE]&&this.bindings[bn.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},E={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(Mt.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:E},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var T;if(this.socket.setAuth(),S===void 0){r==null||r(Mt.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,x=(T=C==null?void 0:C.length)!==null&&T!==void 0?T:0,I=[];for(let $=0;$<x;$++){const O=C[$],{filter:{event:M,schema:Y,table:ee,filter:se}}=O,ve=S&&S[$];if(ve&&ve.event===M&&ve.schema===Y&&ve.table===ee&&ve.filter===se)I.push(Object.assign(Object.assign({},O),{id:ve.id}));else{this.unsubscribe(),this.state=Ae.errored,r==null||r(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(Mt.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ae.errored,r==null||r(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===Ae.joined&&r===bn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,p;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ae.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Cl(this,Ot.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),c=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),c}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Cl(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Iy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,u;const c=r.toLocaleLowerCase(),{close:f,error:p,leave:g,join:v}=Ot;if(o&&[f,p,g,v].indexOf(c)>=0&&o!==this._joinRef())return;let E=this._onMessage(c,n,o);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var T,C,x;return((T=S.filter)===null||T===void 0?void 0:T.event)==="*"||((x=(C=S.filter)===null||C===void 0?void 0:C.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===c}).map(S=>S.callback(E,o)):(u=this.bindings[c])===null||u===void 0||u.filter(S=>{var T,C,x,I,$,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const M=S.id,Y=(T=S.filter)===null||T===void 0?void 0:T.event;return M&&((C=n.ids)===null||C===void 0?void 0:C.includes(M))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const M=($=(I=S==null?void 0:S.filter)===null||I===void 0?void 0:I.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return M==="*"||M===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof E=="object"&&"ids"in E){const T=E.data,{schema:C,table:x,commit_timestamp:I,type:$,errors:O}=T;E=Object.assign(Object.assign({},{schema:C,table:x,commit_timestamp:I,eventType:$,new:{},old:{},errors:O}),this._getPayloadRecords(T))}S.callback(E,o)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&ap.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Ot.close,{},r)}_onError(r){this._on(Ot.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Ih(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Ih(r.columns,r.old_record)),n}};const jl=()=>{},Zi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vy=[1e3,2e3,5e3,1e4],Wy=1e4,Hy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let qy=class{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ml,this.transport=null,this.heartbeatIntervalMs=Zi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jl,this.ref=0,this.reconnectTimer=null,this.vsn=Nh,this.logger=jl,this.conn=null,this.sendBuffer=[],this.serializer=new Ly,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${zl.websocket}`,this.httpEndpoint=sp(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ep.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return Vr.Connecting;case zr.open:return Vr.Open;case zr.closing:return Vr.Closing;default:return Vr.Closed}}isConnected(){return this.connectionState()===Vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new op(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:o,payload:l,ref:u}=r,c=()=>{this.encode(r,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${u})`,l),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Ny,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:c}=n,f=c?`(${c})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${l} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(l,u,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Ot.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([Hy],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:Oy};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Ot.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new rp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,u,c,f,p,g,v,y,E,S;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:Ml,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Zi.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=r==null?void 0:r.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:jl,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:Nh,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r==null?void 0:r.reconnectAfterMs)!==null&&g!==void 0?g:(T=>Vy[T-1]||Wy),this.vsn){case tp:this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:((T,C)=>C(JSON.stringify(T))),this.decode=(y=r==null?void 0:r.decode)!==null&&y!==void 0?y:((T,C)=>C(JSON.parse(T)));break;case Ay:this.encode=(E=r==null?void 0:r.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(S=r==null?void 0:r.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}};const Ky=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:zy,get REALTIME_LISTEN_TYPES(){return bn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Hl},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Wl},get REALTIME_SUBSCRIBE_STATES(){return Mt},RealtimeChannel:op,RealtimeClient:qy,RealtimePresence:ip,WebSocketFactory:ep},Symbol.toStringTag,{value:"Module"})),lp=js(Ky);class As extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function ke(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class up extends As{constructor(r,n,o){super(r),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fo extends As{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const uu=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Gy=()=>Response,ql=i=>{if(Array.isArray(i))return i.map(n=>ql(n));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=ql(o)}),r},Jy=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Qy=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Rl=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},Yy=(i,r,n)=>q(void 0,void 0,void 0,function*(){const o=yield Gy();i instanceof o&&!(n!=null&&n.noResolveJson)?i.json().then(l=>{const u=i.status||500,c=(l==null?void 0:l.statusCode)||u+"";r(new up(Rl(l),u,c))}).catch(l=>{r(new fo(Rl(l),l))}):r(new fo(Rl(i),i))}),Xy=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"||!o?l:(Jy(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Ns(i,r,n,o,l,u){return q(this,void 0,void 0,function*(){return new Promise((c,f)=>{i(n,Xy(r,o,l,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>Yy(p,f,o))})})}function Ts(i,r,n,o){return q(this,void 0,void 0,function*(){return Ns(i,"GET",r,n,o)})}function Pt(i,r,n,o,l){return q(this,void 0,void 0,function*(){return Ns(i,"POST",r,o,l,n)})}function Kl(i,r,n,o,l){return q(this,void 0,void 0,function*(){return Ns(i,"PUT",r,o,l,n)})}function Zy(i,r,n,o){return q(this,void 0,void 0,function*(){return Ns(i,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function cu(i,r,n,o,l){return q(this,void 0,void 0,function*(){return Ns(i,"DELETE",r,o,l,n)})}class ew{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}}var cp;class tw{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[cp]="BlobDownloadBuilder",this.promise=null}asStream(){return new ew(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ke(r))return{data:null,error:r};throw r}})}}cp=Symbol.toStringTag;const rw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nw{constructor(r,n={},o,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=o,this.fetch=uu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,o,l){return q(this,void 0,void 0,function*(){try{let u;const c=Object.assign(Object.assign({},Lh),l);let f=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),p&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(p))):(u=o,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const g=this._removeEmptyFolders(n),v=this._getFinalPath(g),y=yield(r=="PUT"?Kl:Pt)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}})}upload(r,n,o){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,o)})}uploadToSignedUrl(r,n,o,l){return q(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:Lh.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",g.cacheControl)):(p=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield Kl(this.fetch,f.toString(),p,{headers:v});return{data:{path:u,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ke(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return q(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield Pt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),c=new URL(this.url+u.url),f=c.searchParams.get("token");if(!f)throw new As("No token returned by API");return{data:{signedUrl:c.toString(),path:r,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ke(o))return{data:null,error:o};throw o}})}update(r,n,o){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,o)})}move(r,n,o){return q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}copy(r,n,o){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,o){return q(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Pt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,o){return q(this,void 0,void 0,function*(){try{const l=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}download(r,n){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=u?`?${u}`:"",f=this._getFinalPath(r),p=()=>Ts(this.fetch,`${this.url}/${l}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new tw(p,this.shouldThrowOnError)}info(r){return q(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const o=yield Ts(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ql(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ke(o))return{data:null,error:o};throw o}})}exists(r){return q(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield Zy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ke(o)&&o instanceof fo){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,n){const o=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&l.push(p);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${g}`)}}}remove(r){return q(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}list(r,n,o){return q(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},rw),n),{prefix:r||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}listV2(r,n){return q(this,void 0,void 0,function*(){try{const o=Object.assign({},r);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ke(o))return{data:null,error:o};throw o}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const dp="2.86.2",hp={"X-Client-Info":`storage-js/${dp}`};class sw{constructor(r,n={},o,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hp),n),this.fetch=uu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return q(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Ts(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}getBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Ts(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}createBucket(r){return q(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ke(l))return{data:null,error:l};throw l}})}updateBucket(r,n){return q(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ke(o))return{data:null,error:o};throw o}})}emptyBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Cs=class extends Error{constructor(i,r){var n;super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iw(i,r,n){const o=new URL(r,i);if(n)for(const[l,u]of Object.entries(n))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function ow(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function aw(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:u,headers:c}){const f=iw(i.baseUrl,o,l),p=await ow(i.auth),g=await r(f,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...p,...c},body:u?JSON.stringify(u):void 0}),v=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),E=y&&v?JSON.parse(v):v;if(!g.ok){const S=y?E:void 0,T=S==null?void 0:S.error;throw new Cs((T==null?void 0:T.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:S})}return{status:g.status,headers:g.headers,data:E}}}}function eo(i){return i.join("")}var lw=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:eo(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,r){const n={namespace:i.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${eo(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eo(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${eo(i.namespace)}`}),!0}catch(r){if(r instanceof Cs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(n){if(n instanceof Cs&&n.status===409)return;throw n}}};function yn(i){return i.join("")}var uw=class{constructor(i,r="",n){this.client=i,this.prefix=r,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yn(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yn(i.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(i,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yn(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yn(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yn(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yn(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(n){if(n instanceof Cs&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(n){if(n instanceof Cs&&n.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw n}}},cw=class{constructor(i){var o;let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=aw({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(o=i.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new lw(this.client,r),this.tableOps=new uw(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}};class fp{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hp),n),this.fetch=uu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}listBuckets(r){return q(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const o=n.toString(),l=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield Ts(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield cu(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}from(r){if(!Qy(r))throw new As("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new cw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>q(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const du={"X-Client-Info":`storage-js/${dp}`,"Content-Type":"application/json"};class hu extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function it(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class io extends hu{constructor(r,n,o){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pp extends hu{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Gl;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Gl||(Gl={}));const bo=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),dw=()=>Response,mp=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},hw=i=>Array.from(new Float32Array(i)),fw=(i,r)=>{if(r!==void 0&&i.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${i.float32.length}`)},$h=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),pw=(i,r,n)=>q(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(n!=null&&n.noResolveJson)){const l=i.status||500,u=i;if(typeof u.json=="function")u.json().then(c=>{const f=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";r(new io($h(c),l,f))}).catch(()=>{const c=l+"",f=u.statusText||`HTTP ${l} error`;r(new io(f,l,c))});else{const c=l+"",f=u.statusText||`HTTP ${l} error`;r(new io(f,l,c))}}else r(new pp($h(i),i))}),mw=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return o?(mp(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),n)):l};function gw(i,r,n,o,l,u){return q(this,void 0,void 0,function*(){return new Promise((c,f)=>{i(n,mw(r,o,l,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>pw(p,f,o))})})}function ft(i,r,n,o,l){return q(this,void 0,void 0,function*(){return gw(i,"POST",r,o,l,n)})}class gp{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},du),n),this.fetch=bo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}getIndex(r,n){return q(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}})}listIndexes(r){return q(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return q(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(it(o))return{data:null,error:o};throw o}})}}class vp{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},du),n),this.fetch=bo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return q(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}getVectors(r){return q(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}listVectors(r){return q(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ft(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}queryVectors(r){return q(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteVectors(r){return q(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ft(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}}class yp{constructor(r,n={},o){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},du),n),this.fetch=bo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}getBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}listBuckets(){return q(this,arguments,void 0,function*(r={}){try{return{data:yield ft(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(it(n))return{data:null,error:n};throw n}})}}class wp extends yp{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new _p(this.url,this.headers,r,this.fetch)}createBucket(r){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return q(this,void 0,void 0,function*(){return n.createBucket.call(this,r)})}getBucket(r){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return q(this,void 0,void 0,function*(){return n.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return q(this,arguments,void 0,function*(n={}){return r.listBuckets.call(this,n)})}deleteBucket(r){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return q(this,void 0,void 0,function*(){return n.deleteBucket.call(this,r)})}}class _p extends gp{constructor(r,n,o,l){super(r,n,l),this.vectorBucketName=o}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return q(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return q(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return q(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return q(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Ep(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Ep extends vp{constructor(r,n,o,l,u){super(r,n,u),this.vectorBucketName=o,this.indexName=l}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return q(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return q(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return q(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return q(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return q(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vw extends sw{constructor(r,n={},o,l){super(r,n,o,l)}from(r){return new nw(this.url,this.headers,r,this.fetch)}get vectors(){return new wp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fp(this.url+"/iceberg",this.headers,this.fetch)}}const yw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:fp,StorageApiError:up,StorageClient:vw,StorageError:As,StorageUnknownError:fo,StorageVectorsApiError:io,StorageVectorsClient:wp,StorageVectorsError:hu,get StorageVectorsErrorCode(){return Gl},StorageVectorsUnknownError:pp,VectorBucketApi:yp,VectorBucketScope:_p,VectorDataApi:vp,VectorIndexApi:gp,VectorIndexScope:Ep,isPlainObject:mp,isStorageError:ke,isStorageVectorsError:it,normalizeToFloat32:hw,resolveFetch:bo,resolveResponse:dw,validateVectorDimension:fw},Symbol.toStringTag,{value:"Module"})),ww=js(yw);var Pl={},_s={},Uh;function _w(){return Uh||(Uh=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.version=void 0,_s.version="2.86.2"),_s}var Dh;function Ew(){return Dh||(Dh=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const r=_w();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${r.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(Pl)),Pl}var Ol={},Fh;function Sw(){return Fh||(Fh=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const r=l=>l?(...u)=>l(...u):(...u)=>fetch(...u);i.resolveFetch=r;const n=()=>Headers;i.resolveHeadersConstructor=n;const o=(l,u,c)=>{const f=(0,i.resolveFetch)(c),p=(0,i.resolveHeadersConstructor)();return async(g,v)=>{var y;const E=(y=await u())!==null&&y!==void 0?y:l;let S=new p(v==null?void 0:v.headers);return S.has("apikey")||S.set("apikey",l),S.has("Authorization")||S.set("Authorization",`Bearer ${E}`),f(g,Object.assign(Object.assign({},v),{headers:S}))}};i.fetchWithAuth=o})(Ol)),Ol}var Yt={},Bh;function kw(){if(Bh)return Yt;Bh=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.isBrowser=void 0,Yt.uuid=i,Yt.ensureTrailingSlash=r,Yt.applySettingDefaults=o,Yt.validateSupabaseUrl=l;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var c=Math.random()*16|0,f=u=="x"?c:c&3|8;return f.toString(16)})}function r(u){return u.endsWith("/")?u:u+"/"}const n=()=>typeof window<"u";Yt.isBrowser=n;function o(u,c){var f,p;const{db:g,auth:v,realtime:y,global:E}=u,{db:S,auth:T,realtime:C,global:x}=c,I={db:Object.assign(Object.assign({},S),g),auth:Object.assign(Object.assign({},T),v),realtime:Object.assign(Object.assign({},C),y),storage:{},global:Object.assign(Object.assign(Object.assign({},x),E),{headers:Object.assign(Object.assign({},(f=x==null?void 0:x.headers)!==null&&f!==void 0?f:{}),(p=E==null?void 0:E.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return u.accessToken?I.accessToken=u.accessToken:delete I.accessToken,I}function l(u){const c=u==null?void 0:u.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Yt}var Es={};const Sp="2.86.2",Sn=30*1e3,Jl=3,Al=Jl*Sn,bw="http://localhost:9999",xw="supabase.auth.token",Tw={"X-Client-Info":`gotrue-js/${Sp}`},Ql="X-Supabase-Api-Version",kp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jw=600*1e3;let jn=class extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}};function Q(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let bp=class extends jn{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}};function xp(i){return Q(i)&&i.name==="AuthApiError"}let Er=class extends jn{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}},tr=class extends jn{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}},st=class extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Tp(i){return Q(i)&&i.name==="AuthSessionMissingError"}let Fr=class extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ks=class extends tr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},bs=class extends tr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Cp(i){return Q(i)&&i.name==="AuthImplicitGrantRedirectError"}let Yl=class extends tr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},po=class extends tr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}};function oo(i){return Q(i)&&i.name==="AuthRetryableFetchError"}let Xl=class extends tr{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}};function Rw(i){return Q(i)&&i.name==="AuthWeakPasswordError"}let mo=class extends tr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mh=` 	
\r=`.split(""),Pw=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<Mh.length;r+=1)i[Mh[r].charCodeAt(0)]=-2;for(let r=0;r<go.length;r+=1)i[go[r].charCodeAt(0)]=r;return i})();function zh(i,r,n){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(go[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(go[o]),r.queuedBits-=6}}function jp(i,r,n){const o=Pw[i];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Vh(i){const r=[],n=c=>{r.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=c=>{Nw(c,o,n)};for(let c=0;c<i.length;c+=1)jp(i.charCodeAt(c),l,u);return r.join("")}function Ow(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Aw(i,r){for(let n=0;n<i.length;n+=1){let o=i.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Ow(o,r)}}function Nw(i,r,n){if(r.utf8seq===0){if(i<=127){n(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function xn(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<i.length;l+=1)jp(i.charCodeAt(l),n,o);return new Uint8Array(r)}function Iw(i){const r=[];return Aw(i,n=>r.push(n)),new Uint8Array(r)}function Wr(i){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return i.forEach(l=>zh(l,n,o)),zh(null,n,o),r.join("")}function Lw(i){return Math.round(Date.now()/1e3)+i}function $w(){return Symbol("auth-callback")}const Ve=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},Rp=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function Uw(i){const r={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const Pp=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Dw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",kn=async(i,r,n)=>{await i.setItem(r,JSON.stringify(n))},Dr=async(i,r)=>{const n=await i.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ze=async(i,r)=>{await i.removeItem(r)};class xo{constructor(){this.promise=new xo.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}xo.promiseConstructor=Promise;function Nl(i){const r=i.split(".");if(r.length!==3)throw new mo("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!Cw.test(r[o]))throw new mo("JWT not in base64url format");return{header:JSON.parse(Vh(r[0])),payload:JSON.parse(Vh(r[1])),signature:xn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Fw(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function Bw(i,r){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await i(u);if(!r(u,null,c)){o(c);return}}catch(c){if(!r(u,c)){l(c);return}}})()})}function Mw(i){return("0"+i.toString(16)).substr(-2)}function zw(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Mw).join("")}async function Vw(i){const n=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Ww(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await Vw(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(i,r,n=!1){const o=zw();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await kn(i,`${r}-code-verifier`,l);const u=await Ww(o);return[u,o===u?"plain":"s256"]}const Hw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qw(i){const r=i.headers.get(Ql);if(!r||!r.match(Hw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Kw(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function Gw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(i){if(!Jw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Il(){const i={};return new Proxy(i,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qw(i,r){return new Proxy(i,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function Wh(i){return JSON.parse(JSON.stringify(i))}const Br=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Yw=[502,503,504];async function Hh(i){var r;if(!Dw(i))throw new po(Br(i),0);if(Yw.includes(i.status))throw new po(Br(i),i.status);let n;try{n=await i.json()}catch(u){throw new Er(Br(u),u)}let o;const l=qw(i);if(l&&l.getTime()>=kp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new Xl(Br(n),i.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new st}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Xl(Br(n),i.status,n.weak_password.reasons);throw new bp(Br(n),i.status||500,o)}const Xw=(i,r,n,o)=>{const l={method:i,headers:(r==null?void 0:r.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function te(i,r,n,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[Ql]||(u[Ql]=kp["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const c=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(c.redirect_to=o.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Zw(i,r,n+f,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function Zw(i,r,n,o,l,u){const c=Xw(r,o,l,u);let f;try{f=await i(n,Object.assign({},c))}catch(p){throw console.error(p),new po(Br(p),0)}if(f.ok||await Hh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await Hh(p)}}function Rt(i){var r;let n=null;r0(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=Lw(i.expires_in)));const o=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:n,user:o},error:null}}function qh(i){const r=Rt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=i.weak_password),r}function Sr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function e0(i){return{data:i,error:null}}function t0(i){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u}=i,c=On(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:u},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function Kh(i){return i}function r0(i){return i.access_token&&i.refresh_token&&i.expires_in}const ao=["global","local","others"];let fu=class{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Pp(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=ao[0]){if(ao.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ao.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=On(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:t0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Sr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,u,c,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Kh});if(v.error)throw v.error;const y=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(T.split(";")[1].split("=")[1]);g[`${x}Page`]=C}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(Q(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){_n(r);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Sr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){_n(r);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Sr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){_n(r);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){_n(r.userId);try{const{data:n,error:o}=await te(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(r){_n(r.userId),_n(r.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,u,c,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Kh});if(v.error)throw v.error;const y=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(T.split(";")[1].split("=")[1]);g[`${x}Page`]=C}),g.total=parseInt(E)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(Q(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}};function Gh(i={}){return{getItem:r=>i[r]||null,setItem:(r,n)=>{i[r]=n},removeItem:r=>{delete i[r]}}}const Mr={debug:!!(globalThis&&Rp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pu extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let Op=class extends pu{};class n0 extends pu{}async function Ap(i,r,n){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(r===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Op(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Mr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const Jh={};async function s0(i,r,n){var o;const l=(o=Jh[i])!==null&&o!==void 0?o:Promise.resolve(),u=Promise.race([l.catch(()=>null),r>=0?new Promise((c,f)=>{setTimeout(()=>{f(new n0(`Acquring process lock with name "${i}" timed out`))},r)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await n());return Jh[i]=u.catch(async c=>{if(c&&c.isAcquireTimeout)return await l,null;throw c}),await u}function i0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Np(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function o0(i){return parseInt(i,16)}function a0(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function l0(i){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:p,resources:g,scheme:v,uri:y,version:E}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=Np(i.address),T=v?`${v}://${o}`:o,C=i.statement?`${i.statement}
`:"",x=`${T} wants you to sign in with your Ethereum account:
${S}

${C}`;let I=`URI: ${y}
Version: ${E}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(l&&(I+=`
Expiration Time: ${l.toISOString()}`),f&&(I+=`
Not Before: ${f.toISOString()}`),p&&(I+=`
Request ID: ${p}`),g){let $=`
Resources:`;for(const O of g){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);$+=`
- ${O}`}I+=$}return`${x}
${I}`}class Ne extends Error{constructor({message:r,code:n,cause:o,name:l}){var u;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class vo extends Ne{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function u0({error:i,options:r}){var n,o,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ne({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(Ip(c)){if(u.rp.id!==c)return new Ne({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function c0({error:i,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ne({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(Ip(o)){if(n.rpId!==o)return new Ne({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class d0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const h0=new d0;function f0(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:n,excludeCredentials:o}=i,l=On(i,["challenge","user","excludeCredentials"]),u=xn(r).buffer,c=Object.assign(Object.assign({},n),{id:xn(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:c});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const g=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:xn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function p0(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:n}=i,o=On(i,["challenge","allowCredentials"]),l=xn(r).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const f=n[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:xn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function m0(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:Wr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Wr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function g0(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,o=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Wr(new Uint8Array(l.authenticatorData)),clientDataJSON:Wr(new Uint8Array(l.clientDataJSON)),signature:Wr(new Uint8Array(l.signature)),userHandle:l.userHandle?Wr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Ip(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Qh(){var i,r;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function v0(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",r)}:{data:null,error:new vo("Empty credential response",r)}}catch(r){return{data:null,error:u0({error:r,options:i})}}}async function y0(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",r)}:{data:null,error:new vo("Empty credential response",r)}}catch(r){return{data:null,error:c0({error:r,options:i})}}}const w0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yo(...i){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of i)if(l)for(const u in l){const c=l[u];if(c!==void 0)if(Array.isArray(c))o[u]=c;else if(n(c))o[u]=c;else if(r(c)){const f=o[u];r(f)?o[u]=yo(f,c):o[u]=yo(c)}else o[u]=c}return o}function E0(i,r){return yo(w0,i,r||{})}function S0(i,r){return yo(_0,i,r||{})}class k0{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!c)return{data:null,error:f};const p=l??h0.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${o}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=E0(c.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:y}=await v0({publicKey:g,signal:p});return v?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=S0(c.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:y}=await y0(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:r,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return Q(c)?{data:null,error:c}:{data:null,error:new Er("Unexpected error in challenge",c)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new jn("rpId is required for WebAuthn authentication")};try{if(!Qh())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:u});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:r,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(c){return Q(c)?{data:null,error:c}:{data:null,error:new Er("Unexpected error in authenticate",c)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!n)return{data:null,error:new jn("rpId is required for WebAuthn registration")};try{if(!Qh())return{data:null,error:new Er("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:r});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===r&&E.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:u});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return Q(c)?{data:null,error:c}:{data:null,error:new Er("Unexpected error in register",c)}}}}i0();const b0={url:bw,storageKey:xw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Yh(i,r,n){return await n()}const En={};let mu=class Zl{get jwks(){var r,n;return(n=(r=En[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=En[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},b0),r);if(this.storageKey=u.storageKey,this.instanceID=(n=Zl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Zl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ve()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new fu({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Pp(u.fetch),this.lock=u.lock||Yh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:Ve()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=Ap:this.lock=Yh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Rp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Gh(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sp}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Ve()&&(n=Uw(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Ve()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Cp(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:c,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Er("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Rt}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var n,o,l;try{let u;if("email"in r){const{email:v,password:y,options:E}=r;let S=null,T=null;this.flowType==="pkce"&&([S,T]=await wn(this.storage,this.storageKey)),u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:v,password:y,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:S,code_challenge_method:T},xform:Rt})}else if("phone"in r){const{phone:v,password:y,options:E}=r;u=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(l=E==null?void 0:E.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Rt})}else throw new ks("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:c,options:f}=r;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qh})}else if("phone"in r){const{phone:u,password:c,options:f}=r;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:qh})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new Fr;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,u,c,f,p,g,v,y,E;let S,T;if("message"in r)S=r.message,T=r.signature;else{const{chain:C,wallet:x,statement:I,options:$}=r;let O;if(Ve())if(typeof x=="object")O=x;else{const ye=window;if("ethereum"in ye&&typeof ye.ethereum=="object"&&"request"in ye.ethereum&&typeof ye.ethereum.request=="function")O=ye.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=x}const M=new URL((n=$==null?void 0:$.url)!==null&&n!==void 0?n:window.location.href),Y=await O.request({method:"eth_requestAccounts"}).then(ye=>ye).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=Np(Y[0]);let se=(o=$==null?void 0:$.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!se){const ye=await O.request({method:"eth_chainId"});se=o0(ye)}const ve={domain:M.host,address:ee,statement:I,uri:M.href,version:"1",chainId:se,nonce:(l=$==null?void 0:$.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(c=(u=$==null?void 0:$.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=$==null?void 0:$.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=$==null?void 0:$.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=$==null?void 0:$.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=$==null?void 0:$.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=l0(ve),T=await O.request({method:"personal_sign",params:[a0(S),ee]})}try{const{data:C,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:T},!((y=r.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Rt});if(x)throw x;if(!C||!C.session||!C.user){const I=new Fr;return this._returnResult({data:{user:null,session:null},error:I})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:x})}catch(C){if(Q(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(r){var n,o,l,u,c,f,p,g,v,y,E,S;let T,C;if("message"in r)T=r.message,C=r.signature;else{const{chain:x,wallet:I,statement:$,options:O}=r;let M;if(Ve())if(typeof I=="object")M=I;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))M=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=I}const Y=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const ee=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),$?{statement:$}:null));let se;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")se=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)se=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)T=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),C=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${Y.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(l=(o=O==null?void 0:O.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((g=O==null?void 0:O.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((y=(v=O==null?void 0:O.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...O.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const ee=await M.signMessage(new TextEncoder().encode(T),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=ee}}try{const{data:x,error:I}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Wr(C)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Rt});if(I)throw I;if(!x||!x.session||!x.user){const $=new Fr;return this._returnResult({data:{user:null,session:null},error:$})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:I})}catch(x){if(Q(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(r){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{const{data:u,error:c}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Rt});if(await ze(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new Fr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:c})}catch(u){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:u,nonce:c}=r,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rt}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new Fr;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,u,c;try{if("email"in r){const{email:f,options:p}=r;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await wn(this.storage,this.storageKey));const{error:y}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in r){const{phone:f,options:p}=r,{data:g,error:v}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v})}throw new ks("You must provide either an email or phone number.")}catch(f){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:f}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Rt});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,u,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await wn(this.storage,this.storageKey));const g=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:e0});return!((u=g.data)===null||u===void 0)&&u.url&&Ve()&&!(!((c=r.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new st;const{error:l}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:u}=r,{error:c}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in r){const{phone:o,type:l,options:u}=r,{data:c,error:f}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new ks("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Al:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const c=await Dr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?r.user=c.user:r.user=Il()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};r.user=Qw(r.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Sr}):await this._useSession(async n=>{var o,l,u;const{data:c,error:f}=n;if(f)throw f;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new st}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Sr})})}catch(n){if(Q(n))return Tp(n)&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new st;const c=l.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await wn(this.storage,this.storageKey));const{data:g,error:v}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Sr});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new st;const n=Date.now()/1e3;let o=n,l=!0,u=null;const{payload:c}=Nl(r.access_token);if(c.exp&&(o=c.exp,l=o<=n),l){const{data:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:c,error:f}=n;if(f)throw f;r=(o=c.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new st;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ve())throw new bs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new bs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Yl("No code detected.");const{data:$,error:O}=await this._exchangeCodeForSession(r.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:c,expires_in:f,expires_at:p,token_type:g}=r;if(!u||!f||!c||!g)throw new bs("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let E=v+y;p&&(E=parseInt(p));const S=E-v;S*1e3<=Sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const T=E-y;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,E,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,E,v);const{data:C,error:x}=await this._getUser(u);if(x)throw x;const I={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:E,refresh_token:c,token_type:g,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(o){if(Q(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({error:u});const c=(o=l.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:f}=await this.admin.signOut(c,r);if(f&&!(xp(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=$w(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:u},error:c}=n;if(c)throw c;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await wn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async u=>{var c,f,p,g,v;const{data:y,error:E}=u;if(E)throw E;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(c=r.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Ve()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Q(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:u}}=n;if(l)throw l;const{options:c,provider:f,token:p,access_token:g,nonce:v}=r,y=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Rt}),{data:E,error:S}=y;return S?this._returnResult({data:{user:null,session:null},error:S}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Fr}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:S}))}catch(l){if(await ze(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:c}=n;if(c)throw c;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Bw(async l=>(l>0&&await Fw(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Rt})),(l,u)=>{const c=200*Math.pow(2,l);return u&&oo(u)&&Date.now()+c-o<Sn})}catch(o){if(this._debug(n,"error",o),Q(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Ve()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Dr(this.storage,this.storageKey);if(l&&this.userStorage){let c=await Dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:l.user},await kn(this.userStorage,this.storageKey+"-user",c)),l.user=(r=c==null?void 0:c.user)!==null&&r!==void 0?r:Il()}else if(l&&!l.user&&!l.user){const c=await Dr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(l.user=c.user,await ze(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,l)):l.user=Il()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Al;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Al}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:c}=await this._callRefreshToken(l.refresh_token);c&&(console.error(c),oo(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(l.access_token);!f&&(c!=null&&c.user)?(l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new xo;const{data:u,error:c}=await this._refreshAccessToken(r);if(c)throw c;if(!u.session)throw new st;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),Q(u)){const c={data:null,error:u};return oo(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await ze(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=Wh(l);await kn(this.storage,this.storageKey,u)}else{const l=Wh(n);await kn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ze(this.storage,this.storageKey),await ze(this.storage,this.storageKey+"-code-verifier"),await ze(this.storage,this.storageKey+"-user"),this.userStorage&&await ze(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Sn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/Sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Sn}ms, refresh threshold is ${Jl} ticks`),l<=Jl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof pu)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,c]=await wn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;return u?this._returnResult({data:null,error:u}):await te(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:u,error:c}=n;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:g}=await te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(r.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?m0(r.webauthn.credential_response):g0(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:p}=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const c=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:f0(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p0(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Nl(o.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new st})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new st});const c=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new st});const c=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new st})})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new st})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+jw>l)return o;const{data:u,error:c}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:S,error:T}=await this.getSession();if(T||!S.session)return this._returnResult({data:null,error:T});o=S.session.access_token}const{header:l,payload:u,signature:c,raw:{header:f,payload:p}}=Nl(o);n!=null&&n.allowExpired||Kw(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:S}=await this.getUser(o);if(S)throw S;return{data:{claims:u,header:l,signature:c},error:null}}const v=Gw(l.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,Iw(`${f}.${p}`)))throw new mo("Invalid JWT signature");return{data:{claims:u,header:l,signature:c},error:null}}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}};mu.nextInstanceID={};const x0=fu,T0=mu,C0=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:x0,AuthApiError:bp,AuthClient:T0,AuthError:jn,AuthImplicitGrantRedirectError:bs,AuthInvalidCredentialsError:ks,AuthInvalidJwtError:mo,AuthInvalidTokenResponseError:Fr,AuthPKCEGrantCodeExchangeError:Yl,AuthRetryableFetchError:po,AuthSessionMissingError:st,AuthUnknownError:Er,AuthWeakPasswordError:Xl,CustomAuthError:tr,GoTrueAdminApi:fu,GoTrueClient:mu,NavigatorLockAcquireTimeoutError:Op,SIGN_OUT_SCOPES:ao,isAuthApiError:xp,isAuthError:Q,isAuthImplicitGrantRedirectError:Cp,isAuthRetryableFetchError:oo,isAuthSessionMissingError:Tp,isAuthWeakPasswordError:Rw,lockInternals:Mr,navigatorLock:Ap,processLock:s0},Symbol.toStringTag,{value:"Module"})),Lp=js(C0);var Xh;function j0(){if(Xh)return Es;Xh=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.SupabaseAuthClient=void 0;const i=Lp;let r=class extends i.AuthClient{constructor(o){super(o)}};return Es.SupabaseAuthClient=r,Es}var Zh;function ef(){if(Zh)return qi;Zh=1,Object.defineProperty(qi,"__esModule",{value:!0});const i=Kf,r=Zf(),n=lp,o=ww,l=Ew(),u=Sw(),c=kw(),f=j0();class p{constructor(v,y,E){var S,T,C;this.supabaseUrl=v,this.supabaseKey=y;const x=(0,c.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",x),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",x),this.storageUrl=new URL("storage/v1",x),this.functionsUrl=new URL("functions/v1",x);const I=`sb-${x.hostname.split(".")[0]}-auth-token`,$={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:I}),global:l.DEFAULT_GLOBAL_OPTIONS},O=(0,c.applySettingDefaults)(E??{},$);this.storageKey=(S=O.auth.storageKey)!==null&&S!==void 0?S:"",this.headers=(T=O.global.headers)!==null&&T!==void 0?T:{},O.accessToken?(this.accessToken=O.accessToken,this.auth=new Proxy({},{get:(M,Y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((C=O.auth)!==null&&C!==void 0?C:{},this.headers,O.global.fetch),this.fetch=(0,u.fetchWithAuth)(y,this._getAccessToken.bind(this),O.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},O.realtime)),this.accessToken&&this.accessToken().then(M=>this.realtime.setAuth(M)).catch(M=>console.warn("Failed to set initial Realtime auth token:",M)),this.rest=new r.PostgrestClient(new URL("rest/v1",x).href,{headers:this.headers,schema:O.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,E==null?void 0:E.storage),O.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},E={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,E)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:E}=await this.auth.getSession();return(y=(v=E.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:E,storage:S,userStorage:T,storageKey:C,flowType:x,lock:I,debug:$,throwOnError:O},M,Y){const ee={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},ee),M),storageKey:C,autoRefreshToken:v,persistSession:y,detectSessionInUrl:E,storage:S,userStorage:T,flowType:x,lock:I,debug:$,throwOnError:O,fetch:Y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(se=>se.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v==null?void 0:v.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,E)=>{this._handleTokenChanged(y,"CLIENT",E==null?void 0:E.access_token)})}_handleTokenChanged(v,y,E){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==E?(this.changedAccessToken=E,this.realtime.setAuth(E)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return qi.default=p,qi}var tf;function R0(){return tf||(tf=1,(function(i){var r=Qt&&Qt.__createBinding||(Object.create?(function(v,y,E,S){S===void 0&&(S=E);var T=Object.getOwnPropertyDescriptor(y,E);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[E]}}),Object.defineProperty(v,S,T)}):(function(v,y,E,S){S===void 0&&(S=E),v[S]=y[E]})),n=Qt&&Qt.__exportStar||function(v,y){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(y,E)&&r(y,v,E)},o=Qt&&Qt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const l=o(ef());n(Lp,i);var u=Zf();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var c=Kf;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),n(lp,i);var f=ef();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return o(f).default}});const p=(v,y,E)=>new l.default(v,y,E);i.createClient=p;function g(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}g()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Qt)),Qt}var $p=R0();const Up=$g($p),P0=Lg({__proto__:null,default:Up},[$p]),{PostgrestError:y_,FunctionsHttpError:w_,FunctionsFetchError:__,FunctionsRelayError:E_,FunctionsError:S_,FunctionRegion:k_,SupabaseClient:b_,createClient:O0,GoTrueAdminApi:x_,GoTrueClient:T_,AuthAdminApi:C_,AuthClient:j_,navigatorLock:R_,NavigatorLockAcquireTimeoutError:P_,lockInternals:O_,processLock:A_,SIGN_OUT_SCOPES:N_,AuthError:I_,AuthApiError:L_,AuthUnknownError:$_,CustomAuthError:U_,AuthSessionMissingError:D_,AuthInvalidTokenResponseError:F_,AuthInvalidCredentialsError:B_,AuthImplicitGrantRedirectError:M_,AuthPKCEGrantCodeExchangeError:z_,AuthRetryableFetchError:V_,AuthWeakPasswordError:W_,AuthInvalidJwtError:H_,isAuthError:q_,isAuthApiError:K_,isAuthSessionMissingError:G_,isAuthImplicitGrantRedirectError:J_,isAuthRetryableFetchError:Q_,isAuthWeakPasswordError:Y_,RealtimePresence:X_,RealtimeChannel:Z_,RealtimeClient:eE,REALTIME_LISTEN_TYPES:tE,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:rE,REALTIME_PRESENCE_LISTEN_EVENTS:nE,REALTIME_SUBSCRIBE_STATES:sE,REALTIME_CHANNEL_STATES:iE}=Up||P0,A0="https://rsbdfrvcxwcaoqwdplys.supabase.co",N0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzYmRmcnZjeHdjYW9xd2RwbHlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI3NjA3NzEsImV4cCI6MjA1ODMzNjc3MX0.SrLnZMhUvK1L_4kvQdEDv4_1fHYfUGmP_MVNL5hKBOs",kr=O0(A0,N0),Dp=N.createContext(null);function I0({children:i}){const[r,n]=N.useState(null),[o,l]=N.useState(!0);N.useEffect(()=>{kr.auth.getSession().then(({data:{session:p}})=>{n((p==null?void 0:p.user)??null),l(!1)});const{data:{subscription:f}}=kr.auth.onAuthStateChange((p,g)=>{n((g==null?void 0:g.user)??null)});return()=>f.unsubscribe()},[]);const u=async(f,p)=>{const{error:g}=await kr.auth.signInWithPassword({email:f,password:p});return{error:g}},c=async()=>{await kr.auth.signOut()};return w.jsx(Dp.Provider,{value:{user:r,isLoading:o,isAuthenticated:!!r,login:u,logout:c},children:i})}function To(){const i=N.useContext(Dp);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function L0(){const{t:i,toggleLanguage:r}=Nt(),{toggleTheme:n}=Eo(),{user:o,isAuthenticated:l,logout:u}=To(),[c,f]=N.useState(!1),p=async()=>{await u(),f(!1)};return w.jsx("nav",{"aria-label":"Primary",children:w.jsxs("div",{className:"container nav-inner",children:[w.jsxs("div",{className:"brand",children:[w.jsx("div",{className:"brand-badge","aria-hidden":"true",children:"AG"}),w.jsx("a",{href:"#home","aria-label":"Hjem",children:w.jsx("span",{children:"Anders Garberg"})})]}),w.jsxs("div",{className:"nav-links",children:[w.jsx("a",{href:"#experience",children:i("experience")}),w.jsx("a",{href:"#about",children:i("about")}),w.jsx("a",{href:"#contact",children:i("contact")}),w.jsx("button",{className:"theme-toggle",onClick:n,"aria-label":"Bytt tema",title:"Bytt tema",children:w.jsx("i",{className:"fa-solid fa-circle-half-stroke"})}),w.jsx("button",{className:"theme-toggle",onClick:r,"aria-label":"Bytt sprk",title:"Bytt sprk",children:w.jsx("i",{className:"fa-solid fa-globe"})}),l?w.jsxs("div",{className:"user-menu",children:[w.jsx("button",{className:"theme-toggle user-button",onClick:()=>f(!c),"aria-label":"User menu",children:w.jsx("i",{className:"fa-solid fa-user"})}),c&&w.jsxs("div",{className:"user-popup",children:[w.jsx("p",{className:"user-email",children:o==null?void 0:o.email}),w.jsxs(Tn,{to:"/admin",className:"popup-link",onClick:()=>f(!1),children:[w.jsx("i",{className:"fa-solid fa-chart-line"})," ",i("adminDashboard")]}),w.jsxs("button",{className:"popup-link logout-btn",onClick:p,children:[w.jsx("i",{className:"fa-solid fa-right-from-bracket"})," ",i("logout")]})]})]}):w.jsx(Tn,{to:"/login",className:"theme-toggle","aria-label":"Login",title:"Login",children:w.jsx("i",{className:"fa-solid fa-right-to-bracket"})})]}),w.jsx($0,{})]})})}function $0(){const{t:i,toggleLanguage:r}=Nt(),{toggleTheme:n}=Eo(),{isAuthenticated:o,logout:l}=To(),u=()=>{var f,p,g;(f=document.getElementById("hamburger"))==null||f.classList.toggle("active"),(p=document.getElementById("mobileMenu"))==null||p.classList.toggle("active"),(g=document.getElementById("mobileOverlay"))==null||g.classList.toggle("active"),document.body.classList.toggle("mobile-menu-open")},c=()=>{var f,p,g;(f=document.getElementById("hamburger"))==null||f.classList.remove("active"),(p=document.getElementById("mobileMenu"))==null||p.classList.remove("active"),(g=document.getElementById("mobileOverlay"))==null||g.classList.remove("active"),document.body.classList.remove("mobile-menu-open")};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"hamburger",id:"hamburger",onClick:u,"aria-label":"pne meny",children:[w.jsx("span",{}),w.jsx("span",{}),w.jsx("span",{})]}),w.jsx("div",{className:"mobile-overlay",id:"mobileOverlay",onClick:c}),w.jsxs("div",{className:"mobile-menu",id:"mobileMenu",children:[w.jsx("a",{href:"#experience",onClick:c,children:i("experience")}),w.jsx("a",{href:"#about",onClick:c,children:i("about")}),w.jsx("a",{href:"#contact",onClick:c,children:i("contact")}),w.jsxs("div",{className:"mobile-buttons",children:[w.jsx("button",{className:"theme-toggle",onClick:()=>{n(),c()},"aria-label":"Bytt tema",children:w.jsx("i",{className:"fa-solid fa-circle-half-stroke"})}),w.jsx("button",{className:"theme-toggle",onClick:()=>{r(),c()},"aria-label":"Bytt sprk",children:w.jsx("i",{className:"fa-solid fa-globe"})}),o?w.jsxs(w.Fragment,{children:[w.jsx(Tn,{to:"/admin",className:"theme-toggle",onClick:c,children:w.jsx("i",{className:"fa-solid fa-chart-line"})}),w.jsx("button",{className:"theme-toggle",onClick:()=>{l(),c()},"aria-label":"Logg ut",children:w.jsx("i",{className:"fa-solid fa-right-from-bracket"})})]}):w.jsx(Tn,{to:"/login",className:"theme-toggle",onClick:c,children:w.jsx("i",{className:"fa-solid fa-right-to-bracket"})})]})]})]})}function U0(){const{t:i,lang:r}=Nt();return w.jsx("header",{id:"home",className:"hero",children:w.jsxs("div",{className:"container hero-wrap",children:[w.jsxs("div",{className:"hero-left",children:[w.jsxs("p",{className:"pill",children:[w.jsx("i",{className:"fa-solid fa-graduation-cap"}),w.jsx("span",{children:i("degreeProgram")})]}),w.jsxs("h1",{children:[w.jsx("span",{children:i("greeting")})," ",w.jsx("span",{style:{color:"var(--brand)"},children:"Anders Garberg"})]}),w.jsx("div",{style:{height:"1rem"}}),w.jsxs("div",{className:"hero-cta",children:[w.jsx("a",{className:"btn",href:"#projects",children:i("seeProjects")}),w.jsx("a",{className:"btn ghost",href:"#contact",children:i("getInTouch")})]}),w.jsxs("div",{className:"row",style:{marginTop:"12px"},children:[w.jsx("span",{className:"tag",children:i("controlSystems")}),w.jsx("span",{className:"tag",children:i("modeling")}),w.jsx("span",{className:"tag",children:i("physics")}),w.jsx("span",{className:"tag",children:"C++"})]})]}),w.jsxs("aside",{className:"hero-right card pad hero-card","aria-label":"Rask profil",children:[w.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[w.jsx("strong",{children:i("openToInternships")}),w.jsxs("div",{className:"icons",children:[w.jsx("a",{className:"icon-btn",href:"https://github.com/andersgar",target:"_blank",rel:"noreferrer noopener","aria-label":"GitHub",children:w.jsx("i",{className:"fa-brands fa-github","aria-hidden":"true"})}),w.jsx("a",{className:"icon-btn",href:"https://www.linkedin.com/in/anders-garberg-4214ba383",target:"_blank",rel:"noreferrer noopener","aria-label":"LinkedIn",children:w.jsx("i",{className:"fa-brands fa-linkedin","aria-hidden":"true"})}),w.jsx("a",{className:"icon-btn",href:"mailto:anders@garberg.wtf","aria-label":"E-post",children:w.jsx("i",{className:"fa-solid fa-envelope","aria-hidden":"true"})})]})]}),w.jsx("p",{className:"small",children:i("heroDescription")}),w.jsxs("div",{className:"row",children:[w.jsx("a",{className:"btn",href:Ss[r].cv,download:!0,children:i("downloadCV")}),w.jsx("a",{className:"btn ghost",href:"#contact",children:i("emailMe")})]})]})]})})}function D0(){const{t:i,lang:r}=Nt(),[n,o]=N.useState([]);N.useEffect(()=>{fetch("/data/experience.json").then(u=>u.json()).then(u=>o(u)).catch(u=>console.error("Failed to load experience data:",u))},[]);const l=u=>r==="en"?u.en:u.no;return w.jsxs("section",{id:"experience",children:[w.jsx("h2",{className:"section-title",children:i("experience")}),w.jsx("div",{className:"card pad",children:w.jsx("div",{className:"timeline",id:"timeline",children:n.map((u,c)=>w.jsxs("div",{className:"step",children:[w.jsx("div",{className:"dot","aria-hidden":"true"}),w.jsxs("div",{children:[w.jsx("span",{className:"company",children:l(u.company)}),w.jsx("p",{className:"small",children:l(u.location)}),w.jsx("div",{className:"nested-positions",children:u.positions.map((f,p)=>w.jsxs("div",{className:"position",children:[w.jsxs("span",{className:"position-title",children:[w.jsx("h4",{children:l(f.title)}),w.jsx("span",{className:"tag",children:l(f.tag)})]}),w.jsx("div",{className:"date",children:l(f.date)}),w.jsx("div",{className:"desc",children:l(f.desc)})]},p))})]})]},c))})})]})}function F0(){const{t:i}=Nt();return w.jsxs("section",{id:"about",children:[w.jsx("h2",{className:"section-title",children:i("about")}),w.jsxs("div",{className:"grid cols-2",children:[w.jsx("div",{className:"card pad",children:w.jsx("p",{children:i("aboutText1")})}),w.jsxs("div",{className:"card pad",children:[w.jsx("h3",{style:{marginTop:0},children:i("highlights")}),w.jsxs("ul",{children:[w.jsx("li",{children:i("highlight1")}),w.jsx("li",{children:i("highlight2")}),w.jsx("li",{children:i("highlight3")})]})]})]})]})}function B0(){const{t:i}=Nt(),r=n=>{n.preventDefault();const o=n.currentTarget,l=o.elements.namedItem("name").value,u=o.elements.namedItem("email").value,c=o.elements.namedItem("message").value,f=`mailto:anders@garberg.wtf?subject=Kontakt fra ${l}&body=${encodeURIComponent(c)}%0A%0AFra: ${l}%0AE-post: ${u}`;window.location.href=f};return w.jsxs("section",{id:"contact",children:[w.jsx("h2",{className:"section-title",children:i("contact")}),w.jsx("div",{className:"contact-grid",children:w.jsxs("div",{className:"card pad",children:[w.jsx("h3",{style:{marginTop:0},children:i("letsStartSomething")}),w.jsx("p",{className:"small",children:i("contactDesc")}),w.jsxs("form",{onSubmit:r,children:[w.jsxs("div",{className:"field",children:[w.jsx("label",{htmlFor:"name",children:i("name")}),w.jsx("input",{type:"text",id:"name",name:"name",placeholder:i("name"),required:!0})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{htmlFor:"email",children:i("email")}),w.jsx("input",{type:"email",id:"email",name:"email",placeholder:i("email"),required:!0})]}),w.jsxs("div",{className:"field",children:[w.jsx("label",{htmlFor:"message",children:i("message")}),w.jsx("textarea",{id:"message",name:"message",placeholder:i("message"),required:!0})]}),w.jsx("p",{className:"small",children:i("formNote")}),w.jsxs("div",{className:"row",children:[w.jsxs("button",{type:"submit",className:"btn",children:[w.jsx("i",{className:"fa-solid fa-paper-plane"})," ",i("send")]}),w.jsxs("a",{className:"btn ghost",href:"mailto:anders@garberg.wtf",children:[w.jsx("i",{className:"fa-solid fa-envelope"})," ",i("emailMe")]})]})]})]})})]})}function M0(){const i=new Date().getFullYear();return w.jsx("footer",{children:w.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"space-between",gap:"10px",flexWrap:"wrap"},children:[w.jsxs("p",{className:"small",children:[" ",i," Anders Garberg"]}),w.jsx("p",{className:"small",children:"Trondheim, Norge"})]})})}function gu(){return w.jsxs("div",{className:"background-blobs","aria-hidden":"true",children:[w.jsx("div",{className:"blob blob-1"}),w.jsx("div",{className:"blob blob-2"})]})}function z0(){const{t:i}=Nt();return w.jsx("div",{className:"dev-banner",children:w.jsx("span",{dangerouslySetInnerHTML:{__html:i("devBanner")}})})}function V0(){return w.jsxs(w.Fragment,{children:[w.jsx(gu,{}),w.jsx(z0,{}),w.jsx(L0,{}),w.jsx(U0,{}),w.jsx("main",{id:"main",className:"container","aria-live":"polite",children:w.jsxs("div",{id:"publicSections",children:[w.jsx(D0,{}),w.jsx(F0,{}),w.jsx(B0,{})]})}),w.jsx(M0,{})]})}function W0(){const{t:i}=Nt(),{toggleTheme:r}=Eo(),{toggleLanguage:n}=Nt(),{login:o,isAuthenticated:l}=To(),u=ru(),[c,f]=N.useState(""),[p,g]=N.useState(""),[v,y]=N.useState(null),[E,S]=N.useState(!1);if(l)return u("/admin"),null;const T=async C=>{C.preventDefault(),y(null),S(!0);const{error:x}=await o(c,p);x?(y(i("loginError")),S(!1)):u("/admin")};return w.jsxs(w.Fragment,{children:[w.jsx(gu,{}),w.jsx("nav",{"aria-label":"Primary",children:w.jsxs("div",{className:"container nav-inner",children:[w.jsxs("div",{className:"brand",children:[w.jsx("div",{className:"brand-badge","aria-hidden":"true",children:"AG"}),w.jsx("a",{href:"/","aria-label":"Hjem",children:w.jsx("span",{children:"Anders Garberg"})})]}),w.jsxs("div",{className:"nav-links",children:[w.jsx("button",{className:"theme-toggle",onClick:r,"aria-label":"Bytt tema",title:"Bytt tema",children:w.jsx("i",{className:"fa-solid fa-circle-half-stroke"})}),w.jsx("button",{className:"theme-toggle",onClick:n,"aria-label":"Bytt sprk",title:"Bytt sprk",children:w.jsx("i",{className:"fa-solid fa-globe"})})]})]})}),w.jsx("main",{className:"container login-container",children:w.jsxs("div",{className:"login-card",children:[w.jsxs("h1",{children:[w.jsx("i",{className:"fa-solid fa-lock"})," ",i("login")]}),v&&w.jsxs("div",{className:"error-message",children:[w.jsx("i",{className:"fa-solid fa-circle-exclamation"})," ",v]}),w.jsxs("form",{onSubmit:T,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:i("email")}),w.jsx("input",{type:"email",id:"email",value:c,onChange:C=>f(C.target.value),required:!0,placeholder:i("email")})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:i("password")}),w.jsx("input",{type:"password",id:"password",value:p,onChange:C=>g(C.target.value),required:!0,placeholder:i("password")})]}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?w.jsxs(w.Fragment,{children:[w.jsx("i",{className:"fa-solid fa-spinner fa-spin"})," ",i("loggingIn")]}):w.jsxs(w.Fragment,{children:[w.jsx("i",{className:"fa-solid fa-right-to-bracket"})," ",i("login")]})})]}),w.jsxs("a",{href:"/",className:"back-link",children:[w.jsx("i",{className:"fa-solid fa-arrow-left"})," ",i("backToHome")]})]})})]})}async function H0(){try{const[i,r,n,o]=await Promise.all([kr.from("visits").select("*",{count:"exact",head:!0}),kr.from("contacts").select("*",{count:"exact",head:!0}),kr.from("cv_downloads").select("*",{count:"exact",head:!0}),kr.from("visits").select("*").order("created_at",{ascending:!1}).limit(10)]);return{totalVisits:i.count||0,totalContacts:r.count||0,totalCVDownloads:n.count||0,recentVisits:o.data||[]}}catch(i){return console.error("Failed to get analytics:",i),{totalVisits:0,totalContacts:0,totalCVDownloads:0,recentVisits:[]}}}function q0(){const{t:i}=Nt(),{toggleTheme:r}=Eo(),{toggleLanguage:n}=Nt(),{user:o,isAuthenticated:l,isLoading:u,logout:c}=To(),f=ru(),[p,g]=N.useState(null),[v,y]=N.useState(!0);N.useEffect(()=>{!u&&!l&&f("/login")},[u,l,f]),N.useEffect(()=>{async function S(){const T=await H0();g(T),y(!1)}l&&S()},[l]);const E=async()=>{await c(),f("/")};return u?w.jsx("div",{className:"loading-container",children:w.jsx("i",{className:"fa-solid fa-spinner fa-spin fa-2x"})}):l?w.jsxs(w.Fragment,{children:[w.jsx(gu,{}),w.jsx("nav",{"aria-label":"Primary",children:w.jsxs("div",{className:"container nav-inner",children:[w.jsxs("div",{className:"brand",children:[w.jsx("div",{className:"brand-badge","aria-hidden":"true",children:"AG"}),w.jsx("a",{href:"/","aria-label":"Hjem",children:w.jsx("span",{children:"Anders Garberg"})})]}),w.jsxs("div",{className:"nav-links",children:[w.jsx("button",{className:"theme-toggle",onClick:r,"aria-label":"Bytt tema",children:w.jsx("i",{className:"fa-solid fa-circle-half-stroke"})}),w.jsx("button",{className:"theme-toggle",onClick:n,"aria-label":"Bytt sprk",children:w.jsx("i",{className:"fa-solid fa-globe"})}),w.jsxs("button",{className:"btn btn-secondary",onClick:E,children:[w.jsx("i",{className:"fa-solid fa-right-from-bracket"})," ",i("logout")]})]})]})}),w.jsxs("main",{className:"container admin-container",children:[w.jsxs("div",{className:"admin-header",children:[w.jsxs("h1",{children:[w.jsx("i",{className:"fa-solid fa-chart-line"})," ",i("adminDashboard")]}),w.jsxs("p",{className:"user-info",children:[w.jsx("i",{className:"fa-solid fa-user"})," ",o==null?void 0:o.email]})]}),v?w.jsxs("div",{className:"loading-container",children:[w.jsx("i",{className:"fa-solid fa-spinner fa-spin fa-2x"}),w.jsx("p",{children:i("loading")})]}):p?w.jsxs("div",{className:"stats-grid",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("div",{className:"stat-icon",children:w.jsx("i",{className:"fa-solid fa-eye"})}),w.jsxs("div",{className:"stat-content",children:[w.jsx("h3",{children:i("totalVisits")}),w.jsx("p",{className:"stat-value",children:p.totalVisits})]})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("div",{className:"stat-icon",children:w.jsx("i",{className:"fa-solid fa-envelope"})}),w.jsxs("div",{className:"stat-content",children:[w.jsx("h3",{children:i("totalContacts")}),w.jsx("p",{className:"stat-value",children:p.totalContacts})]})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("div",{className:"stat-icon",children:w.jsx("i",{className:"fa-solid fa-file-arrow-down"})}),w.jsxs("div",{className:"stat-content",children:[w.jsx("h3",{children:i("cvDownloads")}),w.jsx("p",{className:"stat-value",children:p.totalCVDownloads})]})]})]}):w.jsxs("div",{className:"error-message",children:[w.jsx("i",{className:"fa-solid fa-circle-exclamation"})," ",i("statsError")]}),w.jsxs("a",{href:"/",className:"back-link",children:[w.jsx("i",{className:"fa-solid fa-arrow-left"})," ",i("backToHome")]})]})]}):null}function K0(){return w.jsx(oy,{children:w.jsxs(Uv,{children:[w.jsx(to,{path:"/",element:w.jsx(V0,{})}),w.jsx(to,{path:"/login",element:w.jsx(W0,{})}),w.jsx(to,{path:"/admin",element:w.jsx(q0,{})})]})})}Hg.createRoot(document.getElementById("root")).render(w.jsx(N.StrictMode,{children:w.jsx(Ey,{children:w.jsx(yy,{children:w.jsx(I0,{children:w.jsx(K0,{})})})})}));
